; Listing generated by Microsoft (R) Optimizing Compiler Version 19.27.29111.0 

	TITLE	C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	??0DBSockMng@@QAE@XZ				; DBSockMng::DBSockMng
PUBLIC	??1DBSockMng@@UAE@XZ				; DBSockMng::~DBSockMng
PUBLIC	?Connect@DBSockMng@@QAEXXZ			; DBSockMng::Connect
PUBLIC	?ActiveChange@DBSockMng@@QAEXXZ			; DBSockMng::ActiveChange
PUBLIC	?Send@DBSockMng@@QAEHPADH@Z			; DBSockMng::Send
PUBLIC	?Send@DBSockMng@@QAEHHPADH@Z			; DBSockMng::Send
PUBLIC	?MsgProc@DBSockMng@@QAEHHIJ@Z			; DBSockMng::MsgProc
PUBLIC	??_GDBSockMng@@UAEPAXI@Z			; DBSockMng::`scalar deleting destructor'
PUBLIC	??_7DBSockMng@@6B@				; DBSockMng::`vftable'
PUBLIC	?cDBSMng@@3VDBSockMng@@A			; cDBSMng
PUBLIC	??_C@_0BE@CLMPKIHE@ExDB?5Server?5Check?4?4@	; `string'
PUBLIC	??_C@_0BB@FLBAPBOE@Active?5DB?5Change@		; `string'
PUBLIC	??_R4DBSockMng@@6B@				; DBSockMng::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVDBSockMng@@@8				; DBSockMng `RTTI Type Descriptor'
PUBLIC	??_R3DBSockMng@@8				; DBSockMng::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2DBSockMng@@8				; DBSockMng::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@DBSockMng@@8			; DBSockMng::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_L@YGXPAXIIP6EX0@Z1@Z:PROC			; `eh vector constructor iterator'
EXTRN	??_M@YGXPAXIIP6EX0@Z@Z:PROC			; `eh vector destructor iterator'
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	_atexit:PROC
EXTRN	__imp_?Get@CMsg@@QAEPADH@Z:PROC
EXTRN	?CreateSocket@MyWinsockBase@@QAEHPAUHWND__@@@Z:PROC ; MyWinsockBase::CreateSocket
EXTRN	?Close@MyWinsockBase@@QAEHXZ:PROC		; MyWinsockBase::Close
EXTRN	?GetSocket@MyWinsockBase@@QAEIXZ:PROC		; MyWinsockBase::GetSocket
EXTRN	?GetConnect@MyWinsockBase@@QAEHXZ:PROC		; MyWinsockBase::GetConnect
EXTRN	?ExDataServerConnect@@YAHPADK@Z:PROC		; ExDataServerConnect
EXTRN	?DataServerProtocolCore@@YAXEPAEH@Z:PROC	; DataServerProtocolCore
EXTRN	?DataServerLogin@@YAXH@Z:PROC			; DataServerLogin
EXTRN	?SetProtocolCore@wsJoinServerCli@@QAEHP6AXEPAEH@Z@Z:PROC ; wsJoinServerCli::SetProtocolCore
EXTRN	?FDWRITE_MsgDataSend@wsJoinServerCli@@QAEHXZ:PROC ; wsJoinServerCli::FDWRITE_MsgDataSend
EXTRN	?DataRecv@wsJoinServerCli@@QAEHXZ:PROC		; wsJoinServerCli::DataRecv
EXTRN	?DataSend@wsJoinServerCli@@QAEHPADH@Z:PROC	; wsJoinServerCli::DataSend
EXTRN	?Connect@wsJoinServerCli@@QAEHPADGK@Z:PROC	; wsJoinServerCli::Connect
EXTRN	??0wsJoinServerCli@@QAE@XZ:PROC			; wsJoinServerCli::wsJoinServerCli
EXTRN	??1wsJoinServerCli@@UAE@XZ:PROC			; wsJoinServerCli::~wsJoinServerCli
EXTRN	??_EDBSockMng@@UAEPAXI@Z:PROC			; DBSockMng::`vector deleting destructor'
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	?LogAddC@@3P6AXEPADZZA:DWORD			; LogAddC
EXTRN	?lMsg@@3VCMsg@@A:BYTE				; lMsg
EXTRN	?DataServerPort@@3HA:DWORD			; DataServerPort
EXTRN	?DataServerPort2@@3HA:DWORD			; DataServerPort2
EXTRN	?ghWnd@@3PAUHWND__@@A:DWORD			; ghWnd
EXTRN	?DataServerIp@@3PADA:BYTE			; DataServerIp
EXTRN	?DataServerIp2@@3PADA:BYTE			; DataServerIp2
EXTRN	?ExDbIp@@3PADA:BYTE				; ExDbIp
EXTRN	?wsExDbCli@@3VwsJoinServerCli@@A:BYTE		; wsExDbCli
EXTRN	___security_cookie:DWORD
_BSS	SEGMENT
?cDBSMng@@3VDBSockMng@@A DB 0320058H DUP (?)		; cDBSMng
_BSS	ENDS
CRT$XCU	SEGMENT
?cDBSMng$initializer$@@3P6AXXZA DD FLAT:??__EcDBSMng@@YAXXZ ; cDBSMng$initializer$
CRT$XCU	ENDS
;	COMDAT ??_R1A@?0A@EA@DBSockMng@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@DBSockMng@@8 DD FLAT:??_R0?AVDBSockMng@@@8 ; DBSockMng::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3DBSockMng@@8
rdata$r	ENDS
;	COMDAT ??_R2DBSockMng@@8
rdata$r	SEGMENT
??_R2DBSockMng@@8 DD FLAT:??_R1A@?0A@EA@DBSockMng@@8	; DBSockMng::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3DBSockMng@@8
rdata$r	SEGMENT
??_R3DBSockMng@@8 DD 00H				; DBSockMng::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2DBSockMng@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVDBSockMng@@@8
data$r	SEGMENT
??_R0?AVDBSockMng@@@8 DD FLAT:??_7type_info@@6B@	; DBSockMng `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVDBSockMng@@', 00H
data$r	ENDS
;	COMDAT ??_R4DBSockMng@@6B@
rdata$r	SEGMENT
??_R4DBSockMng@@6B@ DD 00H				; DBSockMng::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVDBSockMng@@@8
	DD	FLAT:??_R3DBSockMng@@8
rdata$r	ENDS
;	COMDAT ??_C@_0BB@FLBAPBOE@Active?5DB?5Change@
CONST	SEGMENT
??_C@_0BB@FLBAPBOE@Active?5DB?5Change@ DB 'Active DB Change', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@CLMPKIHE@ExDB?5Server?5Check?4?4@
CONST	SEGMENT
??_C@_0BE@CLMPKIHE@ExDB?5Server?5Check?4?4@ DB 'ExDB Server Check..', 00H ; `string'
CONST	ENDS
;	COMDAT ??_7DBSockMng@@6B@
CONST	SEGMENT
??_7DBSockMng@@6B@ DD FLAT:??_R4DBSockMng@@6B@		; DBSockMng::`vftable'
	DD	FLAT:??_EDBSockMng@@UAEPAXI@Z
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__ehfuncinfo$??1DBSockMng@@UAE@XZ DD 019930522H
	DD	00H
	DD	00H
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	05H
xdata$x	ENDS
; Function compile flags: /Odtp /ZI
;	COMDAT ??__FcDBSMng@@YAXXZ
text$yd	SEGMENT
??__FcDBSMng@@YAXXZ PROC				; `dynamic atexit destructor for 'cDBSMng'', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?cDBSMng@@3VDBSockMng@@A ; cDBSMng
  0000e	e8 00 00 00 00	 call	 ??1DBSockMng@@UAE@XZ	; DBSockMng::~DBSockMng
  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
??__FcDBSMng@@YAXXZ ENDP				; `dynamic atexit destructor for 'cDBSMng''
text$yd	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
;	COMDAT ??__EcDBSMng@@YAXXZ
text$di	SEGMENT
??__EcDBSMng@@YAXXZ PROC				; `dynamic initializer for 'cDBSMng'', COMDAT

; 27   : DBSockMng	cDBSMng;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?cDBSMng@@3VDBSockMng@@A ; cDBSMng
  0000e	e8 00 00 00 00	 call	 ??0DBSockMng@@QAE@XZ	; DBSockMng::DBSockMng
  00013	68 00 00 00 00	 push	 OFFSET ??__FcDBSMng@@YAXXZ ; `dynamic atexit destructor for 'cDBSMng''
  00018	e8 00 00 00 00	 call	 _atexit
  0001d	83 c4 04	 add	 esp, 4
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??__EcDBSMng@@YAXXZ ENDP				; `dynamic initializer for 'cDBSMng''
text$di	ENDS
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GDBSockMng@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GDBSockMng@@UAEPAXI@Z PROC				; DBSockMng::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1DBSockMng@@UAE@XZ	; DBSockMng::~DBSockMng
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 11		 je	 SHORT $LN2@scalar
  0001c	68 58 00 32 00	 push	 3276888			; 00320058H
  00021	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  0002a	83 c4 08	 add	 esp, 8
$LN2@scalar:
  0002d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00030	5f		 pop	 edi
  00031	5e		 pop	 esi
  00032	5b		 pop	 ebx
  00033	8b e5		 mov	 esp, ebp
  00035	5d		 pop	 ebp
  00036	c2 04 00	 ret	 4
??_GDBSockMng@@UAEPAXI@Z ENDP				; DBSockMng::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
;	COMDAT ?MsgProc@DBSockMng@@QAEHHIJ@Z
_TEXT	SEGMENT
tv67 = -72						; size = 4
_this$ = -4						; size = 4
_line$ = 8						; size = 4
_wParam$ = 12						; size = 4
_lParam$ = 16						; size = 4
?MsgProc@DBSockMng@@QAEHHIJ@Z PROC			; DBSockMng::MsgProc, COMDAT
; _this$ = ecx

; 217  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 218  : 	switch( WSAGETSELECTEVENT( lParam ) )

  0000c	8b 45 10	 mov	 eax, DWORD PTR _lParam$[ebp]
  0000f	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00014	0f b7 c8	 movzx	 ecx, ax
  00017	89 4d b8	 mov	 DWORD PTR tv67[ebp], ecx
  0001a	83 7d b8 01	 cmp	 DWORD PTR tv67[ebp], 1
  0001e	74 0e		 je	 SHORT $LN4@MsgProc
  00020	83 7d b8 02	 cmp	 DWORD PTR tv67[ebp], 2
  00024	74 1d		 je	 SHORT $LN5@MsgProc
  00026	83 7d b8 20	 cmp	 DWORD PTR tv67[ebp], 32	; 00000020H
  0002a	74 2c		 je	 SHORT $LN6@MsgProc
  0002c	eb 3d		 jmp	 SHORT $LN2@MsgProc
$LN4@MsgProc:

; 219  : 	{
; 220  : 	case FD_READ :
; 221  : 		wsCDBS[line].DataRecv();

  0002e	69 45 08 28 00
	19 00		 imul	 eax, DWORD PTR _line$[ebp], 1638440
  00035	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00038	8d 4c 01 04	 lea	 ecx, DWORD PTR [ecx+eax+4]
  0003c	e8 00 00 00 00	 call	 ?DataRecv@wsJoinServerCli@@QAEHXZ ; wsJoinServerCli::DataRecv

; 222  : 		break;

  00041	eb 28		 jmp	 SHORT $LN2@MsgProc
$LN5@MsgProc:

; 223  : 	case FD_WRITE :
; 224  : 		wsCDBS[line].FDWRITE_MsgDataSend();

  00043	69 45 08 28 00
	19 00		 imul	 eax, DWORD PTR _line$[ebp], 1638440
  0004a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0004d	8d 4c 01 04	 lea	 ecx, DWORD PTR [ecx+eax+4]
  00051	e8 00 00 00 00	 call	 ?FDWRITE_MsgDataSend@wsJoinServerCli@@QAEHXZ ; wsJoinServerCli::FDWRITE_MsgDataSend

; 225  : 		break;

  00056	eb 13		 jmp	 SHORT $LN2@MsgProc
$LN6@MsgProc:

; 226  : 	case FD_CLOSE :	
; 227  : 		wsCDBS[line].Close();

  00058	69 45 08 28 00
	19 00		 imul	 eax, DWORD PTR _line$[ebp], 1638440
  0005f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00062	8d 4c 01 08	 lea	 ecx, DWORD PTR [ecx+eax+8]
  00066	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHXZ ; MyWinsockBase::Close
$LN2@MsgProc:

; 228  : 		//LogAddC(LOGC_RED,lMsg.Get(406));
; 229  : 		//SendMessage(ghWnd, WM_CLOSE, 0,0);
; 230  : 		break;
; 231  : 	}
; 232  : 	return TRUE;

  0006b	b8 01 00 00 00	 mov	 eax, 1

; 233  : }

  00070	5f		 pop	 edi
  00071	5e		 pop	 esi
  00072	5b		 pop	 ebx
  00073	8b e5		 mov	 esp, ebp
  00075	5d		 pop	 ebp
  00076	c2 0c 00	 ret	 12			; 0000000cH
?MsgProc@DBSockMng@@QAEHHIJ@Z ENDP			; DBSockMng::MsgProc
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
;	COMDAT ?Send@DBSockMng@@QAEHHPADH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_server$ = 8						; size = 4
_buf$ = 12						; size = 4
_len$ = 16						; size = 4
?Send@DBSockMng@@QAEHHPADH@Z PROC			; DBSockMng::Send, COMDAT
; _this$ = ecx

; 186  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 187  : 	if( server >= 2 ) return FALSE;

  0000c	83 7d 08 02	 cmp	 DWORD PTR _server$[ebp], 2
  00010	7c 04		 jl	 SHORT $LN2@Send
  00012	33 c0		 xor	 eax, eax
  00014	eb 36		 jmp	 SHORT $LN1@Send
$LN2@Send:

; 188  : 	if( server < 0 ) return FALSE;

  00016	83 7d 08 00	 cmp	 DWORD PTR _server$[ebp], 0
  0001a	7d 04		 jge	 SHORT $LN3@Send
  0001c	33 c0		 xor	 eax, eax
  0001e	eb 2c		 jmp	 SHORT $LN1@Send
$LN3@Send:

; 189  : 
; 190  : 	if( wsCDBS[server].DataSend(buf, len) == FALSE )

  00020	8b 45 10	 mov	 eax, DWORD PTR _len$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 0c	 mov	 ecx, DWORD PTR _buf$[ebp]
  00027	51		 push	 ecx
  00028	69 55 08 28 00
	19 00		 imul	 edx, DWORD PTR _server$[ebp], 1638440
  0002f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00032	8d 4c 10 04	 lea	 ecx, DWORD PTR [eax+edx+4]
  00036	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
  0003b	85 c0		 test	 eax, eax
  0003d	75 08		 jne	 SHORT $LN4@Send

; 191  : 	{
; 192  : 		ActiveChange();

  0003f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00042	e8 00 00 00 00	 call	 ?ActiveChange@DBSockMng@@QAEXXZ ; DBSockMng::ActiveChange
$LN4@Send:

; 193  : 	}
; 194  : 	return TRUE;

  00047	b8 01 00 00 00	 mov	 eax, 1
$LN1@Send:

; 195  : }

  0004c	5f		 pop	 edi
  0004d	5e		 pop	 esi
  0004e	5b		 pop	 ebx
  0004f	8b e5		 mov	 esp, ebp
  00051	5d		 pop	 ebp
  00052	c2 0c 00	 ret	 12			; 0000000cH
?Send@DBSockMng@@QAEHHPADH@Z ENDP			; DBSockMng::Send
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
;	COMDAT ?Send@DBSockMng@@QAEHPADH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_buf$ = 8						; size = 4
_len$ = 12						; size = 4
?Send@DBSockMng@@QAEHPADH@Z PROC			; DBSockMng::Send, COMDAT
; _this$ = ecx

; 172  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 173  : 	if( m_ActiveServer >= 2 ) return FALSE;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	83 b8 54 00 32
	00 02		 cmp	 DWORD PTR [eax+3276884], 2
  00016	7c 04		 jl	 SHORT $LN2@Send
  00018	33 c0		 xor	 eax, eax
  0001a	eb 63		 jmp	 SHORT $LN1@Send
$LN2@Send:

; 174  : 	if( m_ActiveServer < 0 ) return FALSE;

  0001c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001f	83 b8 54 00 32
	00 00		 cmp	 DWORD PTR [eax+3276884], 0
  00026	7d 04		 jge	 SHORT $LN3@Send
  00028	33 c0		 xor	 eax, eax
  0002a	eb 53		 jmp	 SHORT $LN1@Send
$LN3@Send:

; 175  : 
; 176  : 	//LogAdd("Buffer [%x] ", buf[1]);
; 177  : 	if( wsCDBS[m_ActiveServer].DataSend(buf, len) == FALSE )

  0002c	8b 45 0c	 mov	 eax, DWORD PTR _len$[ebp]
  0002f	50		 push	 eax
  00030	8b 4d 08	 mov	 ecx, DWORD PTR _buf$[ebp]
  00033	51		 push	 ecx
  00034	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00037	69 82 54 00 32
	00 28 00 19 00	 imul	 eax, DWORD PTR [edx+3276884], 1638440
  00041	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00044	8d 4c 01 04	 lea	 ecx, DWORD PTR [ecx+eax+4]
  00048	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
  0004d	85 c0		 test	 eax, eax
  0004f	75 29		 jne	 SHORT $LN4@Send

; 178  : 	{
; 179  : 		ActiveChange();

  00051	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00054	e8 00 00 00 00	 call	 ?ActiveChange@DBSockMng@@QAEXXZ ; DBSockMng::ActiveChange

; 180  : 		wsCDBS[m_ActiveServer].DataSend(buf, len);

  00059	8b 45 0c	 mov	 eax, DWORD PTR _len$[ebp]
  0005c	50		 push	 eax
  0005d	8b 4d 08	 mov	 ecx, DWORD PTR _buf$[ebp]
  00060	51		 push	 ecx
  00061	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00064	69 82 54 00 32
	00 28 00 19 00	 imul	 eax, DWORD PTR [edx+3276884], 1638440
  0006e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00071	8d 4c 01 04	 lea	 ecx, DWORD PTR [ecx+eax+4]
  00075	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN4@Send:

; 181  : 	}	
; 182  : 	return TRUE;

  0007a	b8 01 00 00 00	 mov	 eax, 1
$LN1@Send:

; 183  : }

  0007f	5f		 pop	 edi
  00080	5e		 pop	 esi
  00081	5b		 pop	 ebx
  00082	8b e5		 mov	 esp, ebp
  00084	5d		 pop	 ebp
  00085	c2 08 00	 ret	 8
?Send@DBSockMng@@QAEHPADH@Z ENDP			; DBSockMng::Send
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
;	COMDAT ?ActiveChange@DBSockMng@@QAEXXZ
_TEXT	SEGMENT
tv68 = -72						; size = 4
_this$ = -4						; size = 4
?ActiveChange@DBSockMng@@QAEXXZ PROC			; DBSockMng::ActiveChange, COMDAT
; _this$ = ecx

; 166  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 167  : 	m_ActiveServer == 0 ? m_ActiveServer = 1 : m_ActiveServer = 0;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	83 b8 54 00 32
	00 00		 cmp	 DWORD PTR [eax+3276884], 0
  00016	75 16		 jne	 SHORT $LN3@ActiveChan
  00018	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0001b	c7 81 54 00 32
	00 01 00 00 00	 mov	 DWORD PTR [ecx+3276884], 1
  00025	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv68[ebp], 1
  0002c	eb 14		 jmp	 SHORT $LN4@ActiveChan
$LN3@ActiveChan:
  0002e	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00031	c7 82 54 00 32
	00 00 00 00 00	 mov	 DWORD PTR [edx+3276884], 0
  0003b	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv68[ebp], 0
$LN4@ActiveChan:

; 168  : 	LogAdd("Active DB Change");

  00042	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@FLBAPBOE@Active?5DB?5Change@
  00047	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0004d	83 c4 04	 add	 esp, 4

; 169  : }

  00050	5f		 pop	 edi
  00051	5e		 pop	 esi
  00052	5b		 pop	 ebx
  00053	8b e5		 mov	 esp, ebp
  00055	5d		 pop	 ebp
  00056	c3		 ret	 0
?ActiveChange@DBSockMng@@QAEXXZ ENDP			; DBSockMng::ActiveChange
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
;	COMDAT ?Connect@DBSockMng@@QAEXXZ
_TEXT	SEGMENT
_result$1 = -12						; size = 4
_result$2 = -8						; size = 4
_this$ = -4						; size = 4
?Connect@DBSockMng@@QAEXXZ PROC				; DBSockMng::Connect, COMDAT
; _this$ = ecx

; 48   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 49   : 
; 50   : 	if( wsCDBS[0].GetSocket() == INVALID_SOCKET )

  0000c	b8 28 00 19 00	 mov	 eax, 1638440		; 00190028H
  00011	6b c8 00	 imul	 ecx, eax, 0
  00014	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00017	8d 4c 0a 08	 lea	 ecx, DWORD PTR [edx+ecx+8]
  0001b	e8 00 00 00 00	 call	 ?GetSocket@MyWinsockBase@@QAEIXZ ; MyWinsockBase::GetSocket
  00020	83 f8 ff	 cmp	 eax, -1
  00023	0f 85 d9 00 00
	00		 jne	 $LN2@Connect

; 51   : 	{
; 52   : #ifdef GS_DS_LIVECHECK_20041008
; 53   : 		iCDBS_CHECK_COUNT[0]	= 0;
; 54   : #endif
; 55   : 		BOOL result;
; 56   : 		
; 57   : 		wsCDBS[0].CreateSocket(ghWnd);

  00029	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ghWnd@@3PAUHWND__@@A ; ghWnd
  0002e	50		 push	 eax
  0002f	b9 28 00 19 00	 mov	 ecx, 1638440		; 00190028H
  00034	6b d1 00	 imul	 edx, ecx, 0
  00037	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003a	8d 4c 10 08	 lea	 ecx, DWORD PTR [eax+edx+8]
  0003e	e8 00 00 00 00	 call	 ?CreateSocket@MyWinsockBase@@QAEHPAUHWND__@@@Z ; MyWinsockBase::CreateSocket

; 58   : 		wsCDBS[0].SetProtocolCore(DataServerProtocolCore);

  00043	68 00 00 00 00	 push	 OFFSET ?DataServerProtocolCore@@YAXEPAEH@Z ; DataServerProtocolCore
  00048	b8 28 00 19 00	 mov	 eax, 1638440		; 00190028H
  0004d	6b c8 00	 imul	 ecx, eax, 0
  00050	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00053	8d 4c 0a 04	 lea	 ecx, DWORD PTR [edx+ecx+4]
  00057	e8 00 00 00 00	 call	 ?SetProtocolCore@wsJoinServerCli@@QAEHP6AXEPAEH@Z@Z ; wsJoinServerCli::SetProtocolCore

; 59   : 		result = wsCDBS[0].Connect(DataServerIp, DataServerPort, WM_ASS_DATACLIMSG);

  0005c	68 0a 04 00 00	 push	 1034			; 0000040aH
  00061	0f b7 05 00 00
	00 00		 movzx	 eax, WORD PTR ?DataServerPort@@3HA
  00068	50		 push	 eax
  00069	68 00 00 00 00	 push	 OFFSET ?DataServerIp@@3PADA ; DataServerIp
  0006e	b9 28 00 19 00	 mov	 ecx, 1638440		; 00190028H
  00073	6b d1 00	 imul	 edx, ecx, 0
  00076	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00079	8d 4c 10 04	 lea	 ecx, DWORD PTR [eax+edx+4]
  0007d	e8 00 00 00 00	 call	 ?Connect@wsJoinServerCli@@QAEHPADGK@Z ; wsJoinServerCli::Connect
  00082	89 45 f8	 mov	 DWORD PTR _result$2[ebp], eax

; 60   : 		if( result == FALSE ) 

  00085	83 7d f8 00	 cmp	 DWORD PTR _result$2[ebp], 0
  00089	75 3b		 jne	 SHORT $LN3@Connect

; 61   : 		{
; 62   : 			LogAdd(lMsg.Get(403), DataServerIp, DataServerPort);

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DataServerPort@@3HA ; DataServerPort
  00090	50		 push	 eax
  00091	68 00 00 00 00	 push	 OFFSET ?DataServerIp@@3PADA ; DataServerIp
  00096	68 93 01 00 00	 push	 403			; 00000193H
  0009b	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  000a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?Get@CMsg@@QAEPADH@Z
  000a6	50		 push	 eax
  000a7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  000ad	83 c4 0c	 add	 esp, 12			; 0000000cH

; 63   : 			wsCDBS[0].Close();

  000b0	b8 28 00 19 00	 mov	 eax, 1638440		; 00190028H
  000b5	6b c8 00	 imul	 ecx, eax, 0
  000b8	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  000bb	8d 4c 0a 08	 lea	 ecx, DWORD PTR [edx+ecx+8]
  000bf	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHXZ ; MyWinsockBase::Close

; 64   : 		}

  000c4	eb 3c		 jmp	 SHORT $LN2@Connect
$LN3@Connect:

; 65   : 		else
; 66   : 		{
; 67   : 			LogAdd(lMsg.Get(402), DataServerIp, DataServerPort);

  000c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DataServerPort@@3HA ; DataServerPort
  000cb	50		 push	 eax
  000cc	68 00 00 00 00	 push	 OFFSET ?DataServerIp@@3PADA ; DataServerIp
  000d1	68 92 01 00 00	 push	 402			; 00000192H
  000d6	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  000db	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?Get@CMsg@@QAEPADH@Z
  000e1	50		 push	 eax
  000e2	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  000e8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 68   : 			m_ActiveServer = 0;

  000eb	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000ee	c7 80 54 00 32
	00 00 00 00 00	 mov	 DWORD PTR [eax+3276884], 0

; 69   : 			DataServerLogin(0);

  000f8	6a 00		 push	 0
  000fa	e8 00 00 00 00	 call	 ?DataServerLogin@@YAXH@Z ; DataServerLogin
  000ff	83 c4 04	 add	 esp, 4
$LN2@Connect:

; 70   : 
; 71   : #ifdef GS_DS_LIVECHECK_20041008
; 72   : 			uCDBS_CHECK_TIME[0]	= GetTickCount();
; 73   : #endif
; 74   : 		}
; 75   : 	}
; 76   : 
; 77   : 	if( wsCDBS[1].GetSocket() == INVALID_SOCKET )

  00102	b8 28 00 19 00	 mov	 eax, 1638440		; 00190028H
  00107	c1 e0 00	 shl	 eax, 0
  0010a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0010d	8d 4c 01 08	 lea	 ecx, DWORD PTR [ecx+eax+8]
  00111	e8 00 00 00 00	 call	 ?GetSocket@MyWinsockBase@@QAEIXZ ; MyWinsockBase::GetSocket
  00116	83 f8 ff	 cmp	 eax, -1
  00119	0f 85 e5 00 00
	00		 jne	 $LN5@Connect

; 78   : 	{
; 79   : #ifdef GS_DS_LIVECHECK_20041008
; 80   : 		iCDBS_CHECK_COUNT[1]	= FALSE;
; 81   : #endif
; 82   : 		BOOL result;
; 83   : 
; 84   : 		wsCDBS[1].CreateSocket(ghWnd);

  0011f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ghWnd@@3PAUHWND__@@A ; ghWnd
  00124	50		 push	 eax
  00125	b9 28 00 19 00	 mov	 ecx, 1638440		; 00190028H
  0012a	c1 e1 00	 shl	 ecx, 0
  0012d	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00130	8d 4c 0a 08	 lea	 ecx, DWORD PTR [edx+ecx+8]
  00134	e8 00 00 00 00	 call	 ?CreateSocket@MyWinsockBase@@QAEHPAUHWND__@@@Z ; MyWinsockBase::CreateSocket

; 85   : 		wsCDBS[1].SetProtocolCore(DataServerProtocolCore);

  00139	68 00 00 00 00	 push	 OFFSET ?DataServerProtocolCore@@YAXEPAEH@Z ; DataServerProtocolCore
  0013e	b8 28 00 19 00	 mov	 eax, 1638440		; 00190028H
  00143	c1 e0 00	 shl	 eax, 0
  00146	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00149	8d 4c 01 04	 lea	 ecx, DWORD PTR [ecx+eax+4]
  0014d	e8 00 00 00 00	 call	 ?SetProtocolCore@wsJoinServerCli@@QAEHP6AXEPAEH@Z@Z ; wsJoinServerCli::SetProtocolCore

; 86   : 		
; 87   : #ifdef ADD_GAMESERVER_PARAMETER_20050728
; 88   : 		result = wsCDBS[1].Connect(DataServerIp2, DataServerPort2, WM_ASS_DATACLIMSG+1);

  00152	68 0b 04 00 00	 push	 1035			; 0000040bH
  00157	0f b7 05 00 00
	00 00		 movzx	 eax, WORD PTR ?DataServerPort2@@3HA
  0015e	50		 push	 eax
  0015f	68 00 00 00 00	 push	 OFFSET ?DataServerIp2@@3PADA ; DataServerIp2
  00164	b9 28 00 19 00	 mov	 ecx, 1638440		; 00190028H
  00169	c1 e1 00	 shl	 ecx, 0
  0016c	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0016f	8d 4c 0a 04	 lea	 ecx, DWORD PTR [edx+ecx+4]
  00173	e8 00 00 00 00	 call	 ?Connect@wsJoinServerCli@@QAEHPADGK@Z ; wsJoinServerCli::Connect
  00178	89 45 f4	 mov	 DWORD PTR _result$1[ebp], eax

; 89   : 		if( result == FALSE ) 

  0017b	83 7d f4 00	 cmp	 DWORD PTR _result$1[ebp], 0
  0017f	75 3b		 jne	 SHORT $LN6@Connect

; 90   : 		{
; 91   : 			LogAdd(lMsg.Get(403), DataServerIp2, DataServerPort2);

  00181	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DataServerPort2@@3HA ; DataServerPort2
  00186	50		 push	 eax
  00187	68 00 00 00 00	 push	 OFFSET ?DataServerIp2@@3PADA ; DataServerIp2
  0018c	68 93 01 00 00	 push	 403			; 00000193H
  00191	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00196	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?Get@CMsg@@QAEPADH@Z
  0019c	50		 push	 eax
  0019d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  001a3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 92   : 			wsCDBS[1].Close();

  001a6	b8 28 00 19 00	 mov	 eax, 1638440		; 00190028H
  001ab	c1 e0 00	 shl	 eax, 0
  001ae	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001b1	8d 4c 01 08	 lea	 ecx, DWORD PTR [ecx+eax+8]
  001b5	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHXZ ; MyWinsockBase::Close

; 93   : 		}

  001ba	eb 48		 jmp	 SHORT $LN5@Connect
$LN6@Connect:

; 94   : 		else
; 95   : 		{			
; 96   : 			LogAdd(lMsg.Get(402), DataServerIp2, DataServerPort2);

  001bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DataServerPort2@@3HA ; DataServerPort2
  001c1	50		 push	 eax
  001c2	68 00 00 00 00	 push	 OFFSET ?DataServerIp2@@3PADA ; DataServerIp2
  001c7	68 92 01 00 00	 push	 402			; 00000192H
  001cc	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  001d1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?Get@CMsg@@QAEPADH@Z
  001d7	50		 push	 eax
  001d8	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  001de	83 c4 0c	 add	 esp, 12			; 0000000cH

; 97   : 			
; 98   : 			// 활성된 서버가 없었다면..
; 99   : 			if( m_ActiveServer == -1 ) 

  001e1	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  001e4	83 b8 54 00 32
	00 ff		 cmp	 DWORD PTR [eax+3276884], -1
  001eb	75 0d		 jne	 SHORT $LN8@Connect

; 100  : 			{
; 101  : 				m_ActiveServer = 1;

  001ed	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  001f0	c7 80 54 00 32
	00 01 00 00 00	 mov	 DWORD PTR [eax+3276884], 1
$LN8@Connect:

; 102  : 			}
; 103  : 			DataServerLogin(1);

  001fa	6a 01		 push	 1
  001fc	e8 00 00 00 00	 call	 ?DataServerLogin@@YAXH@Z ; DataServerLogin
  00201	83 c4 04	 add	 esp, 4
$LN5@Connect:

; 104  : 
; 105  : #ifdef GS_DS_LIVECHECK_20041008
; 106  : 			uCDBS_CHECK_TIME[1]	= GetTickCount();
; 107  : #endif
; 108  : 		}
; 109  : #else
; 110  : 		result = wsCDBS[1].Connect(DataServerIp, DataServerPort+2, WM_ASS_DATACLIMSG+1);
; 111  : 		if( result == FALSE ) 
; 112  : 		{
; 113  : 			LogAdd(lMsg.Get(403), DataServerIp, DataServerPort+2);
; 114  : 			wsCDBS[1].Close();
; 115  : 		}
; 116  : 		else
; 117  : 		{			
; 118  : 			LogAdd(lMsg.Get(402), DataServerIp, DataServerPort+2);
; 119  : 			
; 120  : 			// 활성된 서버가 없었다면..
; 121  : 			if( m_ActiveServer == -1 ) 
; 122  : 			{
; 123  : 				m_ActiveServer = 1;
; 124  : 			}
; 125  : 			DataServerLogin(1);
; 126  : 
; 127  : #ifdef GS_DS_LIVECHECK_20041008
; 128  : 			uCDBS_CHECK_TIME[1]	= GetTickCount();
; 129  : #endif
; 130  : 		}
; 131  : #endif
; 132  : 	}	
; 133  : 	
; 134  : #ifdef _NEW_EXDB_
; 135  : 	//##EXDB##
; 136  : 	if( wsExDbCli.GetSocket() == INVALID_SOCKET )

  00204	b9 04 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A+4
  00209	e8 00 00 00 00	 call	 ?GetSocket@MyWinsockBase@@QAEIXZ ; MyWinsockBase::GetSocket
  0020e	83 f8 ff	 cmp	 eax, -1
  00211	75 34		 jne	 SHORT $LN9@Connect

; 137  : 	{
; 138  : 		LogAddC(LOGC_RED,"ExDB Server Check..");

  00213	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@CLMPKIHE@ExDB?5Server?5Check?4?4@
  00218	6a 02		 push	 2
  0021a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddC@@3P6AXEPADZZA ; LogAddC
  00220	83 c4 08	 add	 esp, 8

; 139  : 		wsExDbCli.CreateSocket(ghWnd);

  00223	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ghWnd@@3PAUHWND__@@A ; ghWnd
  00228	50		 push	 eax
  00229	b9 04 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A+4
  0022e	e8 00 00 00 00	 call	 ?CreateSocket@MyWinsockBase@@QAEHPAUHWND__@@@Z ; MyWinsockBase::CreateSocket

; 140  : #ifdef ADD_GAMESERVER_PARAMETER_20050728
; 141  : 		ExDataServerConnect(ExDbIp, WM_ASS_EXDATACLIMSG);

  00233	68 0e 04 00 00	 push	 1038			; 0000040eH
  00238	68 00 00 00 00	 push	 OFFSET ?ExDbIp@@3PADA	; ExDbIp
  0023d	e8 00 00 00 00	 call	 ?ExDataServerConnect@@YAHPADK@Z ; ExDataServerConnect
  00242	83 c4 08	 add	 esp, 8

; 142  : #else
; 143  : 		ExDataServerConnect(DataServerIp, WM_ASS_EXDATACLIMSG);
; 144  : #endif
; 145  : 	}

  00245	eb 30		 jmp	 SHORT $LN1@Connect
$LN9@Connect:

; 146  : #endif
; 147  : #ifdef __FRIEND_WORK__
; 148  : 	else 
; 149  : 	{
; 150  : 		if( wsExDbCli.GetConnect() == FALSE )

  00247	b9 04 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A+4
  0024c	e8 00 00 00 00	 call	 ?GetConnect@MyWinsockBase@@QAEHXZ ; MyWinsockBase::GetConnect
  00251	85 c0		 test	 eax, eax
  00253	75 22		 jne	 SHORT $LN1@Connect

; 151  : 		{
; 152  : 			LogAddC(LOGC_RED,"ExDB Server Check..");

  00255	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@CLMPKIHE@ExDB?5Server?5Check?4?4@
  0025a	6a 02		 push	 2
  0025c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddC@@3P6AXEPADZZA ; LogAddC
  00262	83 c4 08	 add	 esp, 8

; 153  : #ifdef ADD_GAMESERVER_PARAMETER_20050728
; 154  : 			ExDataServerConnect(ExDbIp, WM_ASS_EXDATACLIMSG);

  00265	68 0e 04 00 00	 push	 1038			; 0000040eH
  0026a	68 00 00 00 00	 push	 OFFSET ?ExDbIp@@3PADA	; ExDbIp
  0026f	e8 00 00 00 00	 call	 ?ExDataServerConnect@@YAHPADK@Z ; ExDataServerConnect
  00274	83 c4 08	 add	 esp, 8
$LN1@Connect:

; 155  : #else
; 156  : 			ExDataServerConnect(DataServerIp, WM_ASS_EXDATACLIMSG);			
; 157  : #endif
; 158  : 		}
; 159  : 	}
; 160  : #endif
; 161  : 
; 162  : 
; 163  : }

  00277	5f		 pop	 edi
  00278	5e		 pop	 esi
  00279	5b		 pop	 ebx
  0027a	8b e5		 mov	 esp, ebp
  0027c	5d		 pop	 ebp
  0027d	c3		 ret	 0
?Connect@DBSockMng@@QAEXXZ ENDP				; DBSockMng::Connect
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
;	COMDAT ??1DBSockMng@@UAE@XZ
_TEXT	SEGMENT
_this$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
??1DBSockMng@@UAE@XZ PROC				; DBSockMng::~DBSockMng, COMDAT
; _this$ = ecx

; 43   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??1DBSockMng@@UAE@XZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	83 ec 44	 sub	 esp, 68			; 00000044H
  00014	53		 push	 ebx
  00015	56		 push	 esi
  00016	57		 push	 edi
  00017	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001c	33 c5		 xor	 eax, ebp
  0001e	50		 push	 eax
  0001f	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00022	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00028	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx
  0002b	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7DBSockMng@@6B@

; 44   : 
; 45   : }

  00034	68 00 00 00 00	 push	 OFFSET ??1wsJoinServerCli@@UAE@XZ ; wsJoinServerCli::~wsJoinServerCli
  00039	6a 02		 push	 2
  0003b	68 28 00 19 00	 push	 1638440			; 00190028H
  00040	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00043	83 c0 04	 add	 eax, 4
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ??_M@YGXPAXIIP6EX0@Z@Z
  0004c	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0004f	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00056	59		 pop	 ecx
  00057	5f		 pop	 edi
  00058	5e		 pop	 esi
  00059	5b		 pop	 ebx
  0005a	8b e5		 mov	 esp, ebp
  0005c	5d		 pop	 ebp
  0005d	c3		 ret	 0
  0005e	cc		 int	 3
  0005f	cc		 int	 3
  00060	cc		 int	 3
  00061	cc		 int	 3
  00062	cc		 int	 3
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$??1DBSockMng@@UAE@XZ:
  00000	90		 npad	 1
  00001	90		 npad	 1
  00002	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00006	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00009	8b 4a ac	 mov	 ecx, DWORD PTR [edx-84]
  0000c	33 c8		 xor	 ecx, eax
  0000e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00013	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??1DBSockMng@@UAE@XZ
  00018	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??1DBSockMng@@UAE@XZ ENDP				; DBSockMng::~DBSockMng
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
;	COMDAT ??0DBSockMng@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0DBSockMng@@QAE@XZ PROC				; DBSockMng::DBSockMng, COMDAT
; _this$ = ecx

; 38   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7DBSockMng@@6B@
  00015	68 00 00 00 00	 push	 OFFSET ??1wsJoinServerCli@@UAE@XZ ; wsJoinServerCli::~wsJoinServerCli
  0001a	68 00 00 00 00	 push	 OFFSET ??0wsJoinServerCli@@QAE@XZ ; wsJoinServerCli::wsJoinServerCli
  0001f	6a 02		 push	 2
  00021	68 28 00 19 00	 push	 1638440			; 00190028H
  00026	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00029	83 c0 04	 add	 eax, 4
  0002c	50		 push	 eax
  0002d	e8 00 00 00 00	 call	 ??_L@YGXPAXIIP6EX0@Z1@Z

; 39   : 	m_ActiveServer = -1;	

  00032	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00035	c7 80 54 00 32
	00 ff ff ff ff	 mov	 DWORD PTR [eax+3276884], -1

; 40   : }

  0003f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00042	5f		 pop	 edi
  00043	5e		 pop	 esi
  00044	5b		 pop	 ebx
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c3		 ret	 0
??0DBSockMng@@QAE@XZ ENDP				; DBSockMng::DBSockMng
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\DBSockMng.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
END

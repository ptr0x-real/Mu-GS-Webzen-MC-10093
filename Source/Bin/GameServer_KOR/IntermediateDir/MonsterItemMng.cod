; Listing generated by Microsoft (R) Optimizing Compiler Version 19.27.29111.0 

	TITLE	C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??_H@YGXPAXIIP6EPAX0@Z@Z			; `vector constructor iterator'
PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	??0CMonsterItemMng@@QAE@XZ			; CMonsterItemMng::CMonsterItemMng
PUBLIC	??1CMonsterItemMng@@UAE@XZ			; CMonsterItemMng::~CMonsterItemMng
PUBLIC	?Init@CMonsterItemMng@@QAEXXZ			; CMonsterItemMng::Init
PUBLIC	?Clear@CMonsterItemMng@@QAEXXZ			; CMonsterItemMng::Clear
PUBLIC	?InsertItem@CMonsterItemMng@@QAEEHHHHHHH@Z	; CMonsterItemMng::InsertItem
PUBLIC	?GetItem@CMonsterItemMng@@QAEPAVCItem@@H@Z	; CMonsterItemMng::GetItem
PUBLIC	?gObjGiveItemSearch@CMonsterItemMng@@QAEXHH@Z	; CMonsterItemMng::gObjGiveItemSearch
PUBLIC	??_GCMonsterItemMng@@UAEPAXI@Z			; CMonsterItemMng::`scalar deleting destructor'
PUBLIC	??_7CMonsterItemMng@@6B@			; CMonsterItemMng::`vftable'
PUBLIC	?g_MonsterItemMng@@3VCMonsterItemMng@@A		; g_MonsterItemMng
PUBLIC	??_C@_0BG@PNKLNBEB@?4?4?2data?2DropTable?4cfg@	; `string'
PUBLIC	?__LINE__Var@?0??gObjGiveItemSearch@CMonsterItemMng@@QAEXHH@Z@4JA ; `CMonsterItemMng::gObjGiveItemSearch'::`1'::__LINE__Var
PUBLIC	??_C@_0EB@GOBPEBKK@C?3?2Mu?5Online?2Mu?9GS?9Webzen?9MC?910@ ; `string'
PUBLIC	??_C@_0CJ@BKDFKMDM@error?9L3?5?3?5Monster?5Level?5Overfl@ ; `string'
PUBLIC	??_R4CMonsterItemMng@@6B@			; CMonsterItemMng::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCMonsterItemMng@@@8			; CMonsterItemMng `RTTI Type Descriptor'
PUBLIC	??_R3CMonsterItemMng@@8				; CMonsterItemMng::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CMonsterItemMng@@8				; CMonsterItemMng::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CMonsterItemMng@@8		; CMonsterItemMng::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	__real@42c80000
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	??_U@YAPAXI@Z:PROC				; operator new[]
EXTRN	??_V@YAXPAX@Z:PROC				; operator delete[]
EXTRN	??_V@YAXPAXI@Z:PROC				; operator delete[]
EXTRN	_atexit:PROC
EXTRN	_memset:PROC
EXTRN	_strcpy:PROC
EXTRN	_rand:PROC
EXTRN	??0CItem@@QAE@XZ:PROC				; CItem::CItem
EXTRN	?Convert@CItem@@QAEXHEEEEEE@Z:PROC		; CItem::Convert
EXTRN	?GetLevelItem@@YAHHHH@Z:PROC			; GetLevelItem
EXTRN	?zzzItemLevel@@YAHHHH@Z:PROC			; zzzItemLevel
EXTRN	?LoadConfig@cDropSystem@@QAEXPBD@Z:PROC		; cDropSystem::LoadConfig
EXTRN	??_ECMonsterItemMng@@UAEPAXI@Z:PROC		; CMonsterItemMng::`vector deleting destructor'
EXTRN	?MakeItemNumber@@YAHHH@Z:PROC			; MakeItemNumber
EXTRN	?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z:PROC ; CMonsterAttr::GetAttr
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	?g_MaxItemIndexOfEachItemType@@3PAHA:BYTE	; g_MaxItemIndexOfEachItemType
EXTRN	?cexDrop@@3VcDropSystem@@A:BYTE			; cexDrop
EXTRN	?gMAttr@@3VCMonsterAttr@@A:BYTE			; gMAttr
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?g_MonsterItemMng@@3VCMonsterItemMng@@A DB 05b4H DUP (?) ; g_MonsterItemMng
_BSS	ENDS
CRT$XCU	SEGMENT
?g_MonsterItemMng$initializer$@@3P6AXXZA DD FLAT:??__Eg_MonsterItemMng@@YAXXZ ; g_MonsterItemMng$initializer$
CRT$XCU	ENDS
;	COMDAT __real@42c80000
CONST	SEGMENT
__real@42c80000 DD 042c80000r			; 100
CONST	ENDS
;	COMDAT ??_R1A@?0A@EA@CMonsterItemMng@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CMonsterItemMng@@8 DD FLAT:??_R0?AVCMonsterItemMng@@@8 ; CMonsterItemMng::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CMonsterItemMng@@8
rdata$r	ENDS
;	COMDAT ??_R2CMonsterItemMng@@8
rdata$r	SEGMENT
??_R2CMonsterItemMng@@8 DD FLAT:??_R1A@?0A@EA@CMonsterItemMng@@8 ; CMonsterItemMng::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CMonsterItemMng@@8
rdata$r	SEGMENT
??_R3CMonsterItemMng@@8 DD 00H				; CMonsterItemMng::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CMonsterItemMng@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCMonsterItemMng@@@8
data$r	SEGMENT
??_R0?AVCMonsterItemMng@@@8 DD FLAT:??_7type_info@@6B@	; CMonsterItemMng `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCMonsterItemMng@@', 00H
data$r	ENDS
;	COMDAT ??_R4CMonsterItemMng@@6B@
rdata$r	SEGMENT
??_R4CMonsterItemMng@@6B@ DD 00H			; CMonsterItemMng::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCMonsterItemMng@@@8
	DD	FLAT:??_R3CMonsterItemMng@@8
rdata$r	ENDS
;	COMDAT ??_C@_0CJ@BKDFKMDM@error?9L3?5?3?5Monster?5Level?5Overfl@
CONST	SEGMENT
??_C@_0CJ@BKDFKMDM@error?9L3?5?3?5Monster?5Level?5Overfl@ DB 'error-L3 : '
	DB	'Monster Level Overflow~ %s %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EB@GOBPEBKK@C?3?2Mu?5Online?2Mu?9GS?9Webzen?9MC?910@
CONST	SEGMENT
??_C@_0EB@GOBPEBKK@C?3?2Mu?5Online?2Mu?9GS?9Webzen?9MC?910@ DB 'C:\Mu Onl'
	DB	'ine\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??gObjGiveItemSearch@CMonsterItemMng@@QAEXHH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??gObjGiveItemSearch@CMonsterItemMng@@QAEXHH@Z@4JA DD 0c8H ; `CMonsterItemMng::gObjGiveItemSearch'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BG@PNKLNBEB@?4?4?2data?2DropTable?4cfg@
CONST	SEGMENT
??_C@_0BG@PNKLNBEB@?4?4?2data?2DropTable?4cfg@ DB '..\data\DropTable.cfg', 00H ; `string'
CONST	ENDS
;	COMDAT ??_7CMonsterItemMng@@6B@
CONST	SEGMENT
??_7CMonsterItemMng@@6B@ DD FLAT:??_R4CMonsterItemMng@@6B@ ; CMonsterItemMng::`vftable'
	DD	FLAT:??_ECMonsterItemMng@@UAEPAXI@Z
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?Init@CMonsterItemMng@@QAEXXZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?Init@CMonsterItemMng@@QAEXXZ$0
__ehfuncinfo$?Init@CMonsterItemMng@@QAEXXZ DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?Init@CMonsterItemMng@@QAEXXZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__ehfuncinfo$??1CMonsterItemMng@@UAE@XZ DD 019930522H
	DD	00H
	DD	00H
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	05H
xdata$x	ENDS
; Function compile flags: /Odtp /ZI
;	COMDAT ??__Fg_MonsterItemMng@@YAXXZ
text$yd	SEGMENT
??__Fg_MonsterItemMng@@YAXXZ PROC			; `dynamic atexit destructor for 'g_MonsterItemMng'', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterItemMng@@3VCMonsterItemMng@@A ; g_MonsterItemMng
  0000e	e8 00 00 00 00	 call	 ??1CMonsterItemMng@@UAE@XZ ; CMonsterItemMng::~CMonsterItemMng
  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
??__Fg_MonsterItemMng@@YAXXZ ENDP			; `dynamic atexit destructor for 'g_MonsterItemMng''
text$yd	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
;	COMDAT ??__Eg_MonsterItemMng@@YAXXZ
text$di	SEGMENT
??__Eg_MonsterItemMng@@YAXXZ PROC			; `dynamic initializer for 'g_MonsterItemMng'', COMDAT

; 29   : CMonsterItemMng g_MonsterItemMng;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterItemMng@@3VCMonsterItemMng@@A ; g_MonsterItemMng
  0000e	e8 00 00 00 00	 call	 ??0CMonsterItemMng@@QAE@XZ ; CMonsterItemMng::CMonsterItemMng
  00013	68 00 00 00 00	 push	 OFFSET ??__Fg_MonsterItemMng@@YAXXZ ; `dynamic atexit destructor for 'g_MonsterItemMng''
  00018	e8 00 00 00 00	 call	 _atexit
  0001d	83 c4 04	 add	 esp, 4
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??__Eg_MonsterItemMng@@YAXXZ ENDP			; `dynamic initializer for 'g_MonsterItemMng''
text$di	ENDS
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GCMonsterItemMng@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GCMonsterItemMng@@UAEPAXI@Z PROC			; CMonsterItemMng::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1CMonsterItemMng@@UAE@XZ ; CMonsterItemMng::~CMonsterItemMng
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 11		 je	 SHORT $LN2@scalar
  0001c	68 b4 05 00 00	 push	 1460			; 000005b4H
  00021	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  0002a	83 c4 08	 add	 esp, 8
$LN2@scalar:
  0002d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00030	5f		 pop	 edi
  00031	5e		 pop	 esi
  00032	5b		 pop	 ebx
  00033	8b e5		 mov	 esp, ebp
  00035	5d		 pop	 ebp
  00036	c2 04 00	 ret	 4
??_GCMonsterItemMng@@UAEPAXI@Z ENDP			; CMonsterItemMng::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
;	COMDAT ?gObjGiveItemSearch@CMonsterItemMng@@QAEXHH@Z
_TEXT	SEGMENT
_devilitemlevel$1 = -104				; size = 4
_bCheckDevil$2 = -100					; size = 4
_perc$3 = -96						; size = 4
_iMaxItemIndex$4 = -92					; size = 4
_BallTable$ = -88					; size = 64
_index$ = -24						; size = 4
_type$ = -20						; size = 4
_incount$ = -16						; size = 4
_result$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_monsterlevel$ = 8					; size = 4
_maxlevel$ = 12						; size = 4
?gObjGiveItemSearch@CMonsterItemMng@@QAEXHH@Z PROC	; CMonsterItemMng::gObjGiveItemSearch, COMDAT
; _this$ = ecx

; 200  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec a8 00 00
	00		 sub	 esp, 168		; 000000a8H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 201  : 	int result;	
; 202  : 	int incount=0;

  00019	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _incount$[ebp], 0

; 203  : 	int type;
; 204  : 	int index;
; 205  : 
; 206  : 	if( monsterlevel > MAX_MONSTERLEVEL-1 ) 

  00020	81 7d 08 95 00
	00 00		 cmp	 DWORD PTR _monsterlevel$[ebp], 149 ; 00000095H
  00027	7e 21		 jle	 SHORT $LN4@gObjGiveIt

; 207  : 	{
; 208  : 		LogAdd("error-L3 : Monster Level Overflow~ %s %d", __FILE__, __LINE__);

  00029	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??gObjGiveItemSearch@CMonsterItemMng@@QAEXHH@Z@4JA
  0002e	83 c0 08	 add	 eax, 8
  00031	50		 push	 eax
  00032	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GOBPEBKK@C?3?2Mu?5Online?2Mu?9GS?9Webzen?9MC?910@
  00037	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@BKDFKMDM@error?9L3?5?3?5Monster?5Level?5Overfl@
  0003c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00042	83 c4 0c	 add	 esp, 12			; 0000000cH

; 209  : 		return;

  00045	e9 35 04 00 00	 jmp	 $LN1@gObjGiveIt
$LN4@gObjGiveIt:

; 210  : 	}
; 211  : 
; 212  : #ifdef UPDATE_SEASON4_MARKET_CONDITIONS_BALANCE_20080828	// 구슬 스크롤 드랍
; 213  : 	int BallTable[MAX_BALLTABLE_SIZE] = {7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 21, 22, 23, 24, 35, 44, 45, 46, 47, 48};
; 214  : #else	// UPDATE_SEASON4_MARKET_CONDITIONS_BALANCE_20080828		
; 215  : #ifdef DARKLORD_WORK
; 216  : 	// 파이어스크림 법서 추가, MAX_BALLTABLE_SIZE  17로 변경
; 217  : 	#ifdef MODIFY_ITEM_DROP_FIRESCREAMSCROLL_20060830 
; 218  : 	int BallTable[MAX_BALLTABLE_SIZE] = {7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 21, 22, 23, 24, 35};	
; 219  : 	#else
; 220  : 	int BallTable[16] = {7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 21, 22, 23, 24};	

  0004a	c7 45 a8 07 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp], 7
  00051	c7 45 ac 08 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+4], 8
  00058	c7 45 b0 09 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+8], 9
  0005f	c7 45 b4 0a 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+12], 10 ; 0000000aH
  00066	c7 45 b8 0b 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+16], 11 ; 0000000bH
  0006d	c7 45 bc 0c 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+20], 12 ; 0000000cH
  00074	c7 45 c0 0d 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+24], 13 ; 0000000dH
  0007b	c7 45 c4 0e 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+28], 14 ; 0000000eH
  00082	c7 45 c8 10 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+32], 16 ; 00000010H
  00089	c7 45 cc 11 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+36], 17 ; 00000011H
  00090	c7 45 d0 12 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+40], 18 ; 00000012H
  00097	c7 45 d4 13 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+44], 19 ; 00000013H
  0009e	c7 45 d8 15 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+48], 21 ; 00000015H
  000a5	c7 45 dc 16 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+52], 22 ; 00000016H
  000ac	c7 45 e0 17 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+56], 23 ; 00000017H
  000b3	c7 45 e4 18 00
	00 00		 mov	 DWORD PTR _BallTable$[ebp+60], 24 ; 00000018H
$LN2@gObjGiveIt:

; 221  : 	#endif	
; 222  : #else
; 223  : 	int	BallTable[12] = {7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19};	
; 224  : #endif
; 225  : #endif	// UPDATE_SEASON4_MARKET_CONDITIONS_BALANCE_20080828
; 226  : 	
; 227  : 	while(1)

  000ba	b8 01 00 00 00	 mov	 eax, 1
  000bf	85 c0		 test	 eax, eax
  000c1	0f 84 b8 03 00
	00		 je	 $LN1@gObjGiveIt

; 228  : 	{
; 229  : #ifdef NEW_FORSKYLAND3
; 230  : 		if( (rand()%20) == 0 )	// 법서 나올 확률 1/100

  000c7	e8 00 00 00 00	 call	 _rand
  000cc	99		 cdq
  000cd	b9 14 00 00 00	 mov	 ecx, 20			; 00000014H
  000d2	f7 f9		 idiv	 ecx
  000d4	85 d2		 test	 edx, edx
  000d6	75 53		 jne	 SHORT $LN5@gObjGiveIt

; 231  : #else
; 232  : 		if( (rand()%40) == 0 )	// 법서 나올 확률 1/40
; 233  : #endif
; 234  : 		{
; 235  : #ifdef NEW_FORSKYLAND3
; 236  : 			if( rand()%2 )

  000d8	e8 00 00 00 00	 call	 _rand
  000dd	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  000e2	79 05		 jns	 SHORT $LN64@gObjGiveIt
  000e4	48		 dec	 eax
  000e5	83 c8 fe	 or	 eax, -2			; fffffffeH
  000e8	40		 inc	 eax
$LN64@gObjGiveIt:
  000e9	85 c0		 test	 eax, eax
  000eb	74 1d		 je	 SHORT $LN7@gObjGiveIt

; 237  : 			{	// 법서
; 238  : 				type = 15;

  000ed	c7 45 ec 0f 00
	00 00		 mov	 DWORD PTR _type$[ebp], 15 ; 0000000fH

; 239  : 	#ifdef MODIFY_MAGIC_SCROLL_DROPBUG_FIX_20070207
; 240  : 		#ifdef MODIFY_MAGIC_SCROLL_DROPBUG_FIX_02_20070319
; 241  : 				index = rand() % ( g_MaxItemIndexOfEachItemType[type] + 1 );
; 242  : 		#else
; 243  : 				index = rand() % g_MaxItemIndexOfEachItemType[type] + 1;
; 244  : 		#endif // MODIFY_MAGIC_SCROLL_DROPBUG_FIX_02_20070319
; 245  : 	#else
; 246  : 		#if defined(MODIFY_ITEM_DROP_MAXINDEX_20060830) && defined(FOR_JAPAN)
; 247  : 				index = g_MaxItemIndexOfEachItemType[type] + 1;
; 248  : 		#else
; 249  : 
; 250  : 			#ifdef MODIFY_SUMMONER_BUGFIX_1_20071221	// 법서 드랍확률 수정(법서 종류(index) 최대 50개)
; 251  : 				index = rand()%50;
; 252  : 			#else	// MODIFY_SUMMONER_BUGFIX_1_20071221
; 253  : 				index = rand()%MAX_ITEM_INDEX;

  000f4	e8 00 00 00 00	 call	 _rand
  000f9	25 1f 00 00 80	 and	 eax, -2147483617	; 8000001fH
  000fe	79 05		 jns	 SHORT $LN65@gObjGiveIt
  00100	48		 dec	 eax
  00101	83 c8 e0	 or	 eax, -32		; ffffffe0H
  00104	40		 inc	 eax
$LN65@gObjGiveIt:
  00105	89 45 e8	 mov	 DWORD PTR _index$[ebp], eax

; 254  : 			#endif	// MODIFY_SUMMONER_BUGFIX_1_20071221
; 255  : 
; 256  : 		#endif // MODIFY_ITEM_DROP_MAXINDEX_20060830
; 257  : 	#endif MODIFY_MAGIC_SCROLL_DROPBUG_FIX_20070207
; 258  : 			}

  00108	eb 1f		 jmp	 SHORT $LN8@gObjGiveIt
$LN7@gObjGiveIt:

; 259  : 			else
; 260  : 			{	// 구슬류 
; 261  : 				type = 12;

  0010a	c7 45 ec 0c 00
	00 00		 mov	 DWORD PTR _type$[ebp], 12 ; 0000000cH

; 262  : #ifdef DARKLORD_WORK
; 263  : 		#ifdef MODIFY_ITEM_DROP_MAXINDEX_20060830
; 264  : 				index = BallTable[rand()%MAX_BALLTABLE_SIZE]; 

  00111	e8 00 00 00 00	 call	 _rand
  00116	25 0f 00 00 80	 and	 eax, -2147483633	; 8000000fH
  0011b	79 05		 jns	 SHORT $LN66@gObjGiveIt
  0011d	48		 dec	 eax
  0011e	83 c8 f0	 or	 eax, -16		; fffffff0H
  00121	40		 inc	 eax
$LN66@gObjGiveIt:
  00122	8b 44 85 a8	 mov	 eax, DWORD PTR _BallTable$[ebp+eax*4]
  00126	89 45 e8	 mov	 DWORD PTR _index$[ebp], eax
$LN8@gObjGiveIt:

; 265  : 		#else
; 266  : 				index = BallTable[rand()%16];
; 267  : 		#endif // MODIFY_ITEM_DROP_MAXINDEX_20060830
; 268  : #else
; 269  : 				index = BallTable[rand()%12];
; 270  : #endif
; 271  : 			}
; 272  : #else
; 273  : 			type = 15;
; 274  : 			index = rand()%MAX_ITEM_INDEX;
; 275  : #endif		
; 276  : 		}

  00129	eb 47		 jmp	 SHORT $LN6@gObjGiveIt
$LN5@gObjGiveIt:

; 277  : 		else
; 278  : 		{	
; 279  : 			type = rand()%MAX_ITEM_TYPE;

  0012b	e8 00 00 00 00	 call	 _rand
  00130	25 0f 00 00 80	 and	 eax, -2147483633	; 8000000fH
  00135	79 05		 jns	 SHORT $LN67@gObjGiveIt
  00137	48		 dec	 eax
  00138	83 c8 f0	 or	 eax, -16		; fffffff0H
  0013b	40		 inc	 eax
$LN67@gObjGiveIt:
  0013c	89 45 ec	 mov	 DWORD PTR _type$[ebp], eax

; 280  : 			
; 281  : #ifdef ADD_RANDOM_RANGE_OF_ITEMINDEX_20050808
; 282  : 
; 283  : //			int iMaxItemIndex = g_MaxItemIndexOfEachItemType[type] <=0 ? MAX_ITEM_INDEX : g_MaxItemIndexOfEachItemType[type];
; 284  : 
; 285  : 			// type의 무결성을 위해 위 예외처리 하지 않음.
; 286  : 
; 287  : 		#ifdef MODIFY_ITEM_DROP_MAXINDEX_20060830
; 288  : 			int iMaxItemIndex = g_MaxItemIndexOfEachItemType[type] + 1;

  0013f	8b 45 ec	 mov	 eax, DWORD PTR _type$[ebp]
  00142	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?g_MaxItemIndexOfEachItemType@@3PAHA[eax*4]
  00149	83 c1 01	 add	 ecx, 1
  0014c	89 4d a4	 mov	 DWORD PTR _iMaxItemIndex$4[ebp], ecx

; 289  : 		#else
; 290  : 			int iMaxItemIndex = g_MaxItemIndexOfEachItemType[type];
; 291  : 		#endif
; 292  : 			
; 293  : 			index = rand()%iMaxItemIndex;

  0014f	e8 00 00 00 00	 call	 _rand
  00154	99		 cdq
  00155	f7 7d a4	 idiv	 DWORD PTR _iMaxItemIndex$4[ebp]
  00158	89 55 e8	 mov	 DWORD PTR _index$[ebp], edx

; 294  : #else
; 295  : 			index = rand()%MAX_ITEM_INDEX;
; 296  : #endif
; 297  : 
; 298  : 			if ( type == 15 || ((type == 12) && (index != 15))) {

  0015b	83 7d ec 0f	 cmp	 DWORD PTR _type$[ebp], 15 ; 0000000fH
  0015f	74 0c		 je	 SHORT $LN10@gObjGiveIt
  00161	83 7d ec 0c	 cmp	 DWORD PTR _type$[ebp], 12 ; 0000000cH
  00165	75 0b		 jne	 SHORT $LN6@gObjGiveIt
  00167	83 7d e8 0f	 cmp	 DWORD PTR _index$[ebp], 15 ; 0000000fH
  0016b	74 05		 je	 SHORT $LN6@gObjGiveIt
$LN10@gObjGiveIt:

; 299  : #ifdef MODIFY_SPEAR_DROP_BUGFIX_20080901
; 300  : 				if(type == 12 && index != 70)
; 301  : 					continue;
; 302  : #else	// MODIFY_SPEAR_DROP_BUGFIX_20080901
; 303  : 				continue;

  0016d	e9 48 ff ff ff	 jmp	 $LN2@gObjGiveIt
$LN6@gObjGiveIt:

; 304  : #endif	// MODIFY_SPEAR_DROP_BUGFIX_20080901
; 305  : 			}
; 306  : 		}
; 307  : 
; 308  : #ifdef FOR_BLOODCASTLE_TEST
; 309  : 		if( (type == 13 && index == 16) ||
; 310  : 			(type == 13 && index == 17) ||
; 311  : 			(type == 13 && index == 18)
; 312  : 			)
; 313  : 		{	// 대천사의서와 블러드본은 따로 떨어지는 곳이 있다.
; 314  : 			continue;
; 315  : 		}
; 316  : #endif
; 317  : 		
; 318  : #ifdef NEW_SKILL_FORSKYLAND
; 319  : 		if( type == 13 && index == 3 )

  00172	83 7d ec 0d	 cmp	 DWORD PTR _type$[ebp], 13 ; 0000000dH
  00176	75 0b		 jne	 SHORT $LN11@gObjGiveIt
  00178	83 7d e8 03	 cmp	 DWORD PTR _index$[ebp], 3
  0017c	75 05		 jne	 SHORT $LN11@gObjGiveIt

; 320  : 		{	// 페가시아의 뿔은 몬스터에게서 떨어 질수 없다
; 321  : 			continue;

  0017e	e9 37 ff ff ff	 jmp	 $LN2@gObjGiveIt
$LN11@gObjGiveIt:

; 322  : 		}
; 323  : #endif
; 324  : 
; 325  : #ifdef ADD_ITEM_FENRIR_01_20051110
; 326  : 		// 펜릴 아이템들은 따로 드랍 할 수 있도록 한다.
; 327  : 		if( (type == 13 && index == 32) 
; 328  : 			|| (type == 13 && index == 33) 
; 329  : 			|| (type == 13 && index == 34) 
; 330  : 			|| (type == 13 && index == 35) 
; 331  : 			|| (type == 13 && index == 36)
; 332  : 			|| (type == 13 && index == 37) 
; 333  : 			)
; 334  : 		{
; 335  : 			continue;
; 336  : 		}
; 337  : 
; 338  : #endif // ADD_ITEM_FENRIR_01_20051110
; 339  : 		
; 340  : #ifdef ADD_SHIELD_POINT_01_20060403
; 341  : // CODEREVIEW_SHIELD3 : 복합 물약 & SD 회복 물약은 따로 드랍 한다.
; 342  : 		if( (type == 14 && index == 35 )
; 343  : 			|| (type == 14 && index == 36 )
; 344  : 			|| (type == 14 && index == 37 )
; 345  : 			|| (type == 14 && index == 38 )
; 346  : 			|| (type == 14 && index == 39 )
; 347  : 			|| (type == 14 && index == 40 )
; 348  : 			)
; 349  : 		{
; 350  : 			continue;
; 351  : 		}
; 352  : #endif // ADD_SHIELD_POINT_01_20060403
; 353  : 
; 354  : #ifdef ADD_PARTIALY_CHARGE_CASH_SHOP_20070117
; 355  : 		if( IsCashItem( MAKE_ITEMNUM( type, index ) ) == TRUE )
; 356  : 		{
; 357  : 			continue;
; 358  : 		}
; 359  : #endif // ADD_PARTIALY_CHARGE_CASH_SHOP_20070117
; 360  : 
; 361  : #ifdef PREMIUMITEM_20090106
; 362  : 		// 프리미엄 아이템은 드랍 불가
; 363  : 		if(	IsPremiumItem( MAKE_ITEMNUM( type, index ) ) == TRUE )
; 364  : 		{
; 365  : 			continue;
; 366  : 		}
; 367  : #endif // PREMIUMITEM_20090106
; 368  : 		
; 369  : #ifndef FOR_KOREA
; 370  : 	#ifdef ADD_PREMIUMITEM_PANDA
; 371  : 		if( (type == 13 && index == 76 )		// 팬더변신반지
; 372  : 			|| (type == 13 && index == 80 )		// 팬더펫
; 373  : 		)
; 374  : 		{
; 375  : 			continue;
; 376  : 		}
; 377  : 	#endif // ADD_PREMIUMITEM_PANDA
; 378  : #endif // NOT_FOR_KOREA
; 379  : 
; 380  : #ifdef MODIFY_BLOCK_PUMPKIN_OF_LUCK_DROP_20061120
; 381  : 		if( ( type == 14 && index == 45 )
; 382  : 			|| ( type == 14 && index == 46 )
; 383  : 			|| ( type == 14 && index == 47 )
; 384  : 			|| ( type == 14 && index == 48 )
; 385  : 			|| ( type == 14 && index == 49 )
; 386  : 			|| ( type == 14 && index == 50 )
; 387  : 		  )
; 388  : 		{
; 389  : 			continue;
; 390  : 		}
; 391  : #endif // MODIFY_BLOCK_PUMPKIN_OF_LUCK_DROP_20061120
; 392  : 		
; 393  : #ifdef CHRISTMAS_SANTA_POLYMORPH_RING_20061117
; 394  : 		// 산타크로스 변신 반지는 그냥 드롭되지 않는다.
; 395  : 		if( type == 13 && index == 41 )
; 396  : 		{
; 397  : 			continue;
; 398  : 		}
; 399  : #endif // CHRISTMAS_SANTA_POLYMORPH_RING_20061117		
; 400  : 		
; 401  : 		// type : 13, 14, 12일때 레벨에 상관없이..
; 402  : 		if( ((type==13) && (index<8)) ||			// 얼음반지
; 403  : 			((type == 14) && ((index == 9)	||		// 술
; 404  : 			 (index == 10) || (index == 13)	||		// 마을귀환문서, 축석
; 405  : 			 (index == 14) || (index == 16)	||		// 영석, 생석
; 406  : 			 (index == 17) || (index == 18) ||		// 악마의눈, 악마의열쇠
; 407  : 			 (index == 22)) )						// 창석
; 408  : 			|| ((type==12) && (index==15) ||		// 혼석

  00183	83 7d ec 0d	 cmp	 DWORD PTR _type$[ebp], 13 ; 0000000dH
  00187	75 06		 jne	 SHORT $LN15@gObjGiveIt
  00189	83 7d e8 08	 cmp	 DWORD PTR _index$[ebp], 8
  0018d	7c 56		 jl	 SHORT $LN14@gObjGiveIt
$LN15@gObjGiveIt:
  0018f	83 7d ec 0e	 cmp	 DWORD PTR _type$[ebp], 14 ; 0000000eH
  00193	75 30		 jne	 SHORT $LN16@gObjGiveIt
  00195	83 7d e8 09	 cmp	 DWORD PTR _index$[ebp], 9
  00199	74 4a		 je	 SHORT $LN14@gObjGiveIt
  0019b	83 7d e8 0a	 cmp	 DWORD PTR _index$[ebp], 10 ; 0000000aH
  0019f	74 44		 je	 SHORT $LN14@gObjGiveIt
  001a1	83 7d e8 0d	 cmp	 DWORD PTR _index$[ebp], 13 ; 0000000dH
  001a5	74 3e		 je	 SHORT $LN14@gObjGiveIt
  001a7	83 7d e8 0e	 cmp	 DWORD PTR _index$[ebp], 14 ; 0000000eH
  001ab	74 38		 je	 SHORT $LN14@gObjGiveIt
  001ad	83 7d e8 10	 cmp	 DWORD PTR _index$[ebp], 16 ; 00000010H
  001b1	74 32		 je	 SHORT $LN14@gObjGiveIt
  001b3	83 7d e8 11	 cmp	 DWORD PTR _index$[ebp], 17 ; 00000011H
  001b7	74 2c		 je	 SHORT $LN14@gObjGiveIt
  001b9	83 7d e8 12	 cmp	 DWORD PTR _index$[ebp], 18 ; 00000012H
  001bd	74 26		 je	 SHORT $LN14@gObjGiveIt
  001bf	83 7d e8 16	 cmp	 DWORD PTR _index$[ebp], 22 ; 00000016H
  001c3	74 20		 je	 SHORT $LN14@gObjGiveIt
$LN16@gObjGiveIt:
  001c5	83 7d ec 0c	 cmp	 DWORD PTR _type$[ebp], 12 ; 0000000cH
  001c9	75 06		 jne	 SHORT $LN18@gObjGiveIt
  001cb	83 7d e8 0f	 cmp	 DWORD PTR _index$[ebp], 15 ; 0000000fH
  001cf	74 14		 je	 SHORT $LN14@gObjGiveIt
$LN18@gObjGiveIt:
  001d1	83 7d ec 0d	 cmp	 DWORD PTR _type$[ebp], 13 ; 0000000dH
  001d5	0f 85 75 01 00
	00		 jne	 $LN12@gObjGiveIt
  001db	83 7d e8 0e	 cmp	 DWORD PTR _index$[ebp], 14 ; 0000000eH
  001df	0f 85 6b 01 00
	00		 jne	 $LN12@gObjGiveIt
$LN14@gObjGiveIt:

; 409  : 			((type==13) && (index==14))				// 로크의 깃털
; 410  : 			
; 411  : #ifdef ADD_NEW_GEM_OF_DEFEND_FOR_CS_01_20050301
; 412  : 			|| ( (type==14) && (index==31) )		// 수호의 보석
; 413  : #endif
; 414  : 			) 
; 415  : 		  )
; 416  : 		{
; 417  : #ifdef FOR_NEW_TESTSERVER			
; 418  : //			int perc;
; 419  : //			if( gTestServer )				
; 420  : 			int perc = rand()%8;		// 기본확률 1/9
; 421  : //			else
; 422  : //				perc = rand()%11;		// 기본확률 1/9
; 423  : #else
; 424  : 			int perc = rand()%11;		// 기본확률 1/9

  001e5	e8 00 00 00 00	 call	 _rand
  001ea	99		 cdq
  001eb	b9 0b 00 00 00	 mov	 ecx, 11			; 0000000bH
  001f0	f7 f9		 idiv	 ecx
  001f2	89 55 a0	 mov	 DWORD PTR _perc$3[ebp], edx

; 425  : #endif
; 426  : 			BOOL bCheckDevil = FALSE;

  001f5	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _bCheckDevil$2[ebp], 0

; 427  : 
; 428  : 			//-------------------------------------
; 429  : 			// 아래 아이템들은 별도로 확률이 조정됨
; 430  : 			if( type==12 && index==15 )

  001fc	83 7d ec 0c	 cmp	 DWORD PTR _type$[ebp], 12 ; 0000000cH
  00200	75 38		 jne	 SHORT $LN19@gObjGiveIt
  00202	83 7d e8 0f	 cmp	 DWORD PTR _index$[ebp], 15 ; 0000000fH
  00206	75 32		 jne	 SHORT $LN19@gObjGiveIt

; 431  : 			{
; 432  : 				if( monsterlevel >= 13 && monsterlevel <= 66 )

  00208	83 7d 08 0d	 cmp	 DWORD PTR _monsterlevel$[ebp], 13 ; 0000000dH
  0020c	7c 25		 jl	 SHORT $LN20@gObjGiveIt
  0020e	83 7d 08 42	 cmp	 DWORD PTR _monsterlevel$[ebp], 66 ; 00000042H
  00212	7f 1f		 jg	 SHORT $LN20@gObjGiveIt

; 433  : 				{
; 434  : 					perc = rand()%7;	// 4/7

  00214	e8 00 00 00 00	 call	 _rand
  00219	99		 cdq
  0021a	b9 07 00 00 00	 mov	 ecx, 7
  0021f	f7 f9		 idiv	 ecx
  00221	89 55 a0	 mov	 DWORD PTR _perc$3[ebp], edx

; 435  : 					if( perc < 3 )					

  00224	83 7d a0 03	 cmp	 DWORD PTR _perc$3[ebp], 3
  00228	7d 07		 jge	 SHORT $LN22@gObjGiveIt

; 436  : 						perc = 0;

  0022a	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _perc$3[ebp], 0
$LN22@gObjGiveIt:

; 437  : 				}	

  00231	eb 07		 jmp	 SHORT $LN19@gObjGiveIt
$LN20@gObjGiveIt:

; 438  : 				else
; 439  : 					perc = 1;

  00233	c7 45 a0 01 00
	00 00		 mov	 DWORD PTR _perc$3[ebp], 1
$LN19@gObjGiveIt:

; 440  : 			}
; 441  : 
; 442  : #if defined ( UPDATE_SEASON4_MARKET_CONDITIONS_BALANCE_20080828 ) && !defined( DEVILSQARE_COMBINE_ITEM_DROP_20090114 )
; 443  : 			if( (type==14 && index==17 )
; 444  : 				|| (type==14 && index==18 ))
; 445  : 			{
; 446  : 				perc = 1;
; 447  : 			}
; 448  : #endif // UPDATE_SEASON4_MARKET_CONDITIONS_BALANCE_20080828
; 449  : 
; 450  : // 해외는 악마의 눈, 열쇠 드랍 되게 수정
; 451  : #ifdef	DEVILSQARE_COMBINE_ITEM_DROP_20090114 
; 452  : 			if( type==14 && index==17 )
; 453  : 			{	// 악마의 눈
; 454  : 				if (gEyesOfDevilSquareDropRate <= 0)
; 455  : 					gEyesOfDevilSquareDropRate = 1;
; 456  : 				perc = rand()%gEyesOfDevilSquareDropRate;
; 457  : 				bCheckDevil = TRUE;
; 458  : 				if( !gDevilSquareEvent )
; 459  : 					perc = 1;
; 460  : 			}
; 461  : 
; 462  : 			if( type==14 && index==18 )
; 463  : 			{	// 악마의 열쇠
; 464  : 				perc = rand()%gKeyOfDevilSquareDropRate;
; 465  : 				bCheckDevil = TRUE;
; 466  : 				if( !gDevilSquareEvent )
; 467  : 					perc = 1;
; 468  : 			}	
; 469  : #endif	// DEVILSQARE_COMBINE_ITEM_DROP20090114
; 470  : 			//-------------------------------------
; 471  : 
; 472  : 			if( perc ==0 )

  0023a	83 7d a0 00	 cmp	 DWORD PTR _perc$3[ebp], 0
  0023e	0f 85 07 01 00
	00		 jne	 $LN23@gObjGiveIt

; 473  : 			{
; 474  : 				if( bCheckDevil == TRUE )

  00244	83 7d 9c 01	 cmp	 DWORD PTR _bCheckDevil$2[ebp], 1
  00248	0f 85 a7 00 00
	00		 jne	 $LN24@gObjGiveIt

; 475  : 				{	// 악마의 광장 아이템의 드랍은 다르게 설정한다
; 476  : 					int devilitemlevel = 0;

  0024e	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _devilitemlevel$1[ebp], 0

; 477  : 
; 478  : #ifndef UPDATE_MASTER_LEVEL_EVENTMAP_TICKET_METERIAL_DROPRATE_20080123	// 7광장 재료는 gEventMonsterItemDrop() 에서 드랍					
; 479  : #ifdef ADD_DEVILSQURE_FOR_MASTER_LEVEL_20071010		// 광장7 입장권 재료 아이템 드롭
; 480  : 					if( monsterlevel >= 90 )		// 자이칸 이상
; 481  : 					{
; 482  : 						if( rand() % 1000 < 10 )	// 10/1000확률
; 483  : 						{
; 484  : 							devilitemlevel = 7;
; 485  : 						}
; 486  : 					}
; 487  : 					else
; 488  : #endif
; 489  : #endif	// UPDATE_MASTER_LEVEL_EVENTMAP_TICKET_METERIAL_DROPRATE_20080123
; 490  : 					if( rand()%5 != 0 )

  00255	e8 00 00 00 00	 call	 _rand
  0025a	99		 cdq
  0025b	b9 05 00 00 00	 mov	 ecx, 5
  00260	f7 f9		 idiv	 ecx
  00262	85 d2		 test	 edx, edx
  00264	0f 84 89 00 00
	00		 je	 $LN26@gObjGiveIt

; 491  : 					{	// 0짜리 아이템
; 492  : #ifdef DEVILSQUARE_EXTEND_20050221		// !!! . 임시 -> 광장 조합 아이템 드롭 추가
; 493  : 						if( monsterlevel < 3)
; 494  : 						{
; 495  : 							devilitemlevel = 1; //DEVILSQUARE FIX (Normal es +0)
; 496  : 						}
; 497  : 						else if( monsterlevel < 36)
; 498  : 						{
; 499  : 							devilitemlevel = 1;
; 500  : 						}
; 501  : 						else if( monsterlevel < 47)
; 502  : 						{
; 503  : 							devilitemlevel = 2;
; 504  : 						}
; 505  : 						else if( monsterlevel < 60)
; 506  : 						{
; 507  : 							devilitemlevel = 3;
; 508  : 						}
; 509  : 						else if( monsterlevel < 70)
; 510  : 						{
; 511  : 							devilitemlevel = 4;
; 512  : 						}
; 513  : 						else if( monsterlevel < 80)
; 514  : 						{
; 515  : 							devilitemlevel = 5;
; 516  : 						}
; 517  : 						else
; 518  : 						{
; 519  : 							devilitemlevel = 6;
; 520  : 						}
; 521  : #else						
; 522  : 						if( monsterlevel <= 15)

  0026a	83 7d 08 0f	 cmp	 DWORD PTR _monsterlevel$[ebp], 15 ; 0000000fH
  0026e	7f 09		 jg	 SHORT $LN27@gObjGiveIt

; 523  : 						{
; 524  : 							devilitemlevel = 1; //DEVILSQUARE FIX (Normal es +0)

  00270	c7 45 98 01 00
	00 00		 mov	 DWORD PTR _devilitemlevel$1[ebp], 1

; 525  : 						}

  00277	eb 34		 jmp	 SHORT $LN28@gObjGiveIt
$LN27@gObjGiveIt:

; 526  : 						else if( monsterlevel <= 40)

  00279	83 7d 08 28	 cmp	 DWORD PTR _monsterlevel$[ebp], 40 ; 00000028H
  0027d	7f 09		 jg	 SHORT $LN29@gObjGiveIt

; 527  : 						{
; 528  : 							devilitemlevel = 1;

  0027f	c7 45 98 01 00
	00 00		 mov	 DWORD PTR _devilitemlevel$1[ebp], 1

; 529  : 						}

  00286	eb 25		 jmp	 SHORT $LN28@gObjGiveIt
$LN29@gObjGiveIt:

; 530  : 						else if( monsterlevel <= 54)

  00288	83 7d 08 36	 cmp	 DWORD PTR _monsterlevel$[ebp], 54 ; 00000036H
  0028c	7f 09		 jg	 SHORT $LN31@gObjGiveIt

; 531  : 						{
; 532  : 							devilitemlevel = 2;

  0028e	c7 45 98 02 00
	00 00		 mov	 DWORD PTR _devilitemlevel$1[ebp], 2

; 533  : 						}

  00295	eb 16		 jmp	 SHORT $LN28@gObjGiveIt
$LN31@gObjGiveIt:

; 534  : 						else if( monsterlevel <= 66)

  00297	83 7d 08 42	 cmp	 DWORD PTR _monsterlevel$[ebp], 66 ; 00000042H
  0029b	7f 09		 jg	 SHORT $LN33@gObjGiveIt

; 535  : 						{
; 536  : 							devilitemlevel = 3;

  0029d	c7 45 98 03 00
	00 00		 mov	 DWORD PTR _devilitemlevel$1[ebp], 3

; 537  : 						}

  002a4	eb 07		 jmp	 SHORT $LN28@gObjGiveIt
$LN33@gObjGiveIt:

; 538  : 						else
; 539  : 						{
; 540  : 							devilitemlevel = 4;

  002a6	c7 45 98 04 00
	00 00		 mov	 DWORD PTR _devilitemlevel$1[ebp], 4
$LN28@gObjGiveIt:

; 541  : 						}
; 542  : #endif
; 543  : #ifndef UPDATE_MASTER_LEVEL_EVENTMAP_TICKET_METERIAL_DROPRATE_20080123	// 7광장 재료는 gEventMonsterItemDrop() 에서 드랍
; 544  : #ifdef ADD_DEVILSQURE_FOR_MASTER_LEVEL_20071010
; 545  : 					}
; 546  : #endif	
; 547  : #endif	// UPDATE_MASTER_LEVEL_EVENTMAP_TICKET_METERIAL_DROPRATE_20080123					
; 548  : 						
; 549  : 						if( devilitemlevel != 0 )

  002ad	83 7d 98 00	 cmp	 DWORD PTR _devilitemlevel$1[ebp], 0
  002b1	74 40		 je	 SHORT $LN26@gObjGiveIt

; 550  : 						{	// 앞으로는 0짜리 악마의 광장 아이템은 떨어 지지 않는다
; 551  : 							if( InsertItem(monsterlevel, type, index, devilitemlevel) != 0xFF )

  002b3	6a 00		 push	 0
  002b5	6a 00		 push	 0
  002b7	6a 00		 push	 0
  002b9	8b 45 98	 mov	 eax, DWORD PTR _devilitemlevel$1[ebp]
  002bc	50		 push	 eax
  002bd	8b 4d e8	 mov	 ecx, DWORD PTR _index$[ebp]
  002c0	51		 push	 ecx
  002c1	8b 55 ec	 mov	 edx, DWORD PTR _type$[ebp]
  002c4	52		 push	 edx
  002c5	8b 45 08	 mov	 eax, DWORD PTR _monsterlevel$[ebp]
  002c8	50		 push	 eax
  002c9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002cc	e8 00 00 00 00	 call	 ?InsertItem@CMonsterItemMng@@QAEEHHHHHHH@Z ; CMonsterItemMng::InsertItem
  002d1	0f b6 c8	 movzx	 ecx, al
  002d4	81 f9 ff 00 00
	00		 cmp	 ecx, 255		; 000000ffH
  002da	74 17		 je	 SHORT $LN26@gObjGiveIt

; 552  : 							{
; 553  : 								///*if( monsterlevel >= 50 )
; 554  : 								//{
; 555  : 								//LogAdd("(%d)Devil Square Item 추가(level:%d) : type:%d index:%d level:%d %s", lpObj->Class, monsterlevel, type, index, devilitemlevel, lpObj->Name);
; 556  : 								//}
; 557  : 								//*/
; 558  : 								incount++;								

  002dc	8b 45 f0	 mov	 eax, DWORD PTR _incount$[ebp]
  002df	83 c0 01	 add	 eax, 1
  002e2	89 45 f0	 mov	 DWORD PTR _incount$[ebp], eax

; 559  : 
; 560  : 								if( incount > MAX_MONSTERGETITEMCOUNT-1 ) break;

  002e5	81 7d f0 e7 03
	00 00		 cmp	 DWORD PTR _incount$[ebp], 999 ; 000003e7H
  002ec	7e 05		 jle	 SHORT $LN26@gObjGiveIt
  002ee	e9 8c 01 00 00	 jmp	 $LN1@gObjGiveIt
$LN26@gObjGiveIt:

; 561  : 							}
; 562  : 						}
; 563  : #ifdef UPDATE_MASTER_LEVEL_EVENTMAP_TICKET_METERIAL_DROPRATE_20080123	// 7광장 재료는 gEventMonsterItemDrop() 에서 드랍
; 564  : 					}
; 565  : #endif	// UPDATE_MASTER_LEVEL_EVENTMAP_TICKET_METERIAL_DROPRATE_20080123
; 566  : #ifdef ADD_DEVILSQURE_FOR_MASTER_LEVEL_20071010
; 567  : 				//	}
; 568  : #else
; 569  : 				}
; 570  : #endif
; 571  : 				}	

  002f3	eb 56		 jmp	 SHORT $LN23@gObjGiveIt
$LN24@gObjGiveIt:

; 572  : 				else
; 573  : 				{
; 574  : 					// 악마의 광장 외 일반 아이템들
; 575  : 					if( zzzItemLevel(type, index, monsterlevel) == TRUE )		// 아이템의 레벨제한이 해당몬스터의 레벨보다 높으면 추가되지 않는다.

  002f5	8b 45 08	 mov	 eax, DWORD PTR _monsterlevel$[ebp]
  002f8	50		 push	 eax
  002f9	8b 4d e8	 mov	 ecx, DWORD PTR _index$[ebp]
  002fc	51		 push	 ecx
  002fd	8b 55 ec	 mov	 edx, DWORD PTR _type$[ebp]
  00300	52		 push	 edx
  00301	e8 00 00 00 00	 call	 ?zzzItemLevel@@YAHHHH@Z	; zzzItemLevel
  00306	83 c4 0c	 add	 esp, 12			; 0000000cH
  00309	83 f8 01	 cmp	 eax, 1
  0030c	75 3d		 jne	 SHORT $LN23@gObjGiveIt

; 576  : 					{
; 577  : 						if( InsertItem(monsterlevel, type, index, 0) != 0xFF )

  0030e	6a 00		 push	 0
  00310	6a 00		 push	 0
  00312	6a 00		 push	 0
  00314	6a 00		 push	 0
  00316	8b 45 e8	 mov	 eax, DWORD PTR _index$[ebp]
  00319	50		 push	 eax
  0031a	8b 4d ec	 mov	 ecx, DWORD PTR _type$[ebp]
  0031d	51		 push	 ecx
  0031e	8b 55 08	 mov	 edx, DWORD PTR _monsterlevel$[ebp]
  00321	52		 push	 edx
  00322	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00325	e8 00 00 00 00	 call	 ?InsertItem@CMonsterItemMng@@QAEEHHHHHHH@Z ; CMonsterItemMng::InsertItem
  0032a	0f b6 c0	 movzx	 eax, al
  0032d	3d ff 00 00 00	 cmp	 eax, 255		; 000000ffH
  00332	74 17		 je	 SHORT $LN23@gObjGiveIt

; 578  : 						{
; 579  : 							//*if( monsterlevel >= 50 )
; 580  : 							//{
; 581  : 							/*
; 582  : 							LogAdd("Item 추가(level:%d) : %s type:%d index:%d level:%d", 
; 583  : 																monsterlevel, 
; 584  : 																ItemAttribute[MAKE_ITEMNUM(type,index)].Name,
; 585  : 																type, 
; 586  : 																index, 
; 587  : 																result);*/
; 588  : 							
; 589  : 							//}
; 590  : 							//*/
; 591  : 							incount++;							

  00334	8b 45 f0	 mov	 eax, DWORD PTR _incount$[ebp]
  00337	83 c0 01	 add	 eax, 1
  0033a	89 45 f0	 mov	 DWORD PTR _incount$[ebp], eax

; 592  : 							if( incount > MAX_MONSTERGETITEMCOUNT-1 ) break;

  0033d	81 7d f0 e7 03
	00 00		 cmp	 DWORD PTR _incount$[ebp], 999 ; 000003e7H
  00344	7e 05		 jle	 SHORT $LN23@gObjGiveIt
  00346	e9 34 01 00 00	 jmp	 $LN1@gObjGiveIt
$LN23@gObjGiveIt:

; 593  : 						}
; 594  : 					}
; 595  : 				}
; 596  : 			}
; 597  : 		}

  0034b	e9 15 01 00 00	 jmp	 $LN13@gObjGiveIt
$LN12@gObjGiveIt:

; 598  : 		else
; 599  : 		{
; 600  : 			// type : 13, 14, 12 을 제외한 나머지 아이템들은 +수치를 랜덤하게 받는다 (몬스터 레벨에 영향받음)
; 601  : 			result = GetLevelItem(type, index, monsterlevel);

  00350	8b 45 08	 mov	 eax, DWORD PTR _monsterlevel$[ebp]
  00353	50		 push	 eax
  00354	8b 4d e8	 mov	 ecx, DWORD PTR _index$[ebp]
  00357	51		 push	 ecx
  00358	8b 55 ec	 mov	 edx, DWORD PTR _type$[ebp]
  0035b	52		 push	 edx
  0035c	e8 00 00 00 00	 call	 ?GetLevelItem@@YAHHHH@Z	; GetLevelItem
  00361	83 c4 0c	 add	 esp, 12			; 0000000cH
  00364	89 45 f4	 mov	 DWORD PTR _result$[ebp], eax

; 602  : 			if( result >= 0  )

  00367	83 7d f4 00	 cmp	 DWORD PTR _result$[ebp], 0
  0036b	0f 8c f4 00 00
	00		 jl	 $LN13@gObjGiveIt

; 603  : 			{
; 604  : 			
; 605  : 				if( (type == 13 && index == 10) ||		// 변신반지

  00371	83 7d ec 0d	 cmp	 DWORD PTR _type$[ebp], 13 ; 0000000dH
  00375	75 06		 jne	 SHORT $LN45@gObjGiveIt
  00377	83 7d e8 0a	 cmp	 DWORD PTR _index$[ebp], 10 ; 0000000aH
  0037b	74 0c		 je	 SHORT $LN44@gObjGiveIt
$LN45@gObjGiveIt:
  0037d	83 7d ec 0c	 cmp	 DWORD PTR _type$[ebp], 12 ; 0000000cH
  00381	75 4b		 jne	 SHORT $LN42@gObjGiveIt
  00383	83 7d e8 0b	 cmp	 DWORD PTR _index$[ebp], 11 ; 0000000bH
  00387	75 45		 jne	 SHORT $LN42@gObjGiveIt
$LN44@gObjGiveIt:

; 606  : 					(type == 12 && index == 11) )		// 소환구슬
; 607  : 				{
; 608  : 					if( InsertItem(monsterlevel, type, index, result) != 0xFF )

  00389	6a 00		 push	 0
  0038b	6a 00		 push	 0
  0038d	6a 00		 push	 0
  0038f	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00392	50		 push	 eax
  00393	8b 4d e8	 mov	 ecx, DWORD PTR _index$[ebp]
  00396	51		 push	 ecx
  00397	8b 55 ec	 mov	 edx, DWORD PTR _type$[ebp]
  0039a	52		 push	 edx
  0039b	8b 45 08	 mov	 eax, DWORD PTR _monsterlevel$[ebp]
  0039e	50		 push	 eax
  0039f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003a2	e8 00 00 00 00	 call	 ?InsertItem@CMonsterItemMng@@QAEEHHHHHHH@Z ; CMonsterItemMng::InsertItem
  003a7	0f b6 c8	 movzx	 ecx, al
  003aa	81 f9 ff 00 00
	00		 cmp	 ecx, 255		; 000000ffH
  003b0	74 17		 je	 SHORT $LN46@gObjGiveIt

; 609  : 					{
; 610  : 						//if( monsterlevel >= 50 )
; 611  : 						{
; 612  : 							/*
; 613  : 							LogAdd("Item 추가(level:%d) : %s type:%d index:%d level:%d", 
; 614  : 																monsterlevel, 
; 615  : 																ItemAttribute[MAKE_ITEMNUM(type,index)].Name
; 616  : 																type, 
; 617  : 																index, 
; 618  : 																result);*/
; 619  : 							
; 620  : 						}
; 621  : 						//*/
; 622  : 						incount++;						

  003b2	8b 45 f0	 mov	 eax, DWORD PTR _incount$[ebp]
  003b5	83 c0 01	 add	 eax, 1
  003b8	89 45 f0	 mov	 DWORD PTR _incount$[ebp], eax

; 623  : 						if( incount > MAX_MONSTERGETITEMCOUNT-1 ) break;

  003bb	81 7d f0 e7 03
	00 00		 cmp	 DWORD PTR _incount$[ebp], 999 ; 000003e7H
  003c2	7e 05		 jle	 SHORT $LN46@gObjGiveIt
  003c4	e9 b6 00 00 00	 jmp	 $LN1@gObjGiveIt
$LN46@gObjGiveIt:

; 624  : 					}
; 625  : 				}

  003c9	e9 97 00 00 00	 jmp	 $LN13@gObjGiveIt
$LN42@gObjGiveIt:

; 626  : 				else if( result <= maxlevel )		// 랜덤하게 +된 아이템 레벨이 해당 몬스터의 최고 아이템 레벨을 넘지 못하도록

  003ce	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  003d1	3b 45 0c	 cmp	 eax, DWORD PTR _maxlevel$[ebp]
  003d4	0f 8f 8b 00 00
	00		 jg	 $LN13@gObjGiveIt

; 627  : 				{
; 628  : 					if( type == 12)					// ITEM_WING의 경우 소환구슬을 제외한 경우는 +수치 0

  003da	83 7d ec 0c	 cmp	 DWORD PTR _type$[ebp], 12 ; 0000000cH
  003de	75 0d		 jne	 SHORT $LN49@gObjGiveIt

; 629  : 					{
; 630  : 						if( index != 11 ) result = 0;

  003e0	83 7d e8 0b	 cmp	 DWORD PTR _index$[ebp], 11 ; 0000000bH
  003e4	74 07		 je	 SHORT $LN49@gObjGiveIt
  003e6	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0
$LN49@gObjGiveIt:

; 631  : 					}
; 632  : 					if( type == 12 && index == 11 )

  003ed	83 7d ec 0c	 cmp	 DWORD PTR _type$[ebp], 12 ; 0000000cH
  003f1	75 08		 jne	 SHORT $LN51@gObjGiveIt
  003f3	83 7d e8 0b	 cmp	 DWORD PTR _index$[ebp], 11 ; 0000000bH
  003f7	75 02		 jne	 SHORT $LN51@gObjGiveIt

; 633  : 					{
; 634  : 
; 635  : 					}

  003f9	eb 0e		 jmp	 SHORT $LN52@gObjGiveIt
$LN51@gObjGiveIt:

; 636  : 					else if( result > maxlevel ) result = maxlevel;		// 혹시라도 +레벨이 최고 아이템 레벨을 넘을 경우 고정

  003fb	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  003fe	3b 45 0c	 cmp	 eax, DWORD PTR _maxlevel$[ebp]
  00401	7e 06		 jle	 SHORT $LN52@gObjGiveIt
  00403	8b 45 0c	 mov	 eax, DWORD PTR _maxlevel$[ebp]
  00406	89 45 f4	 mov	 DWORD PTR _result$[ebp], eax
$LN52@gObjGiveIt:

; 637  : 
; 638  : 					if( (type == 4 && index == 7) || (type == 4 && index == 15) )	// 석궁,화살 스킬 없이

  00409	83 7d ec 04	 cmp	 DWORD PTR _type$[ebp], 4
  0040d	75 06		 jne	 SHORT $LN56@gObjGiveIt
  0040f	83 7d e8 07	 cmp	 DWORD PTR _index$[ebp], 7
  00413	74 0c		 je	 SHORT $LN55@gObjGiveIt
$LN56@gObjGiveIt:
  00415	83 7d ec 04	 cmp	 DWORD PTR _type$[ebp], 4
  00419	75 0d		 jne	 SHORT $LN54@gObjGiveIt
  0041b	83 7d e8 0f	 cmp	 DWORD PTR _index$[ebp], 15 ; 0000000fH
  0041f	75 07		 jne	 SHORT $LN54@gObjGiveIt
$LN55@gObjGiveIt:

; 639  : 					{
; 640  : 						result = 0;

  00421	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0
$LN54@gObjGiveIt:

; 641  : 					}
; 642  : 					
; 643  : 					if( InsertItem(monsterlevel, type, index, result) != 0xFF )

  00428	6a 00		 push	 0
  0042a	6a 00		 push	 0
  0042c	6a 00		 push	 0
  0042e	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00431	50		 push	 eax
  00432	8b 4d e8	 mov	 ecx, DWORD PTR _index$[ebp]
  00435	51		 push	 ecx
  00436	8b 55 ec	 mov	 edx, DWORD PTR _type$[ebp]
  00439	52		 push	 edx
  0043a	8b 45 08	 mov	 eax, DWORD PTR _monsterlevel$[ebp]
  0043d	50		 push	 eax
  0043e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00441	e8 00 00 00 00	 call	 ?InsertItem@CMonsterItemMng@@QAEEHHHHHHH@Z ; CMonsterItemMng::InsertItem
  00446	0f b6 c8	 movzx	 ecx, al
  00449	81 f9 ff 00 00
	00		 cmp	 ecx, 255		; 000000ffH
  0044f	74 14		 je	 SHORT $LN13@gObjGiveIt

; 644  : 					{
; 645  : 						if( monsterlevel >= 43 && result >= 4 )
; 646  : 						{
; 647  : 						/*
; 648  : 						LogAdd("Item 추가(%s,level:%d) : %s type:%d index:%d level:%d", 
; 649  : 															MonsterName,
; 650  : 															monsterlevel, 
; 651  : 															ItemAttribute[MAKE_ITEMNUM(type,index)].Name,
; 652  : 															type, 
; 653  : 															index, 
; 654  : 															result);*/
; 655  : 						
; 656  : 						}
; 657  : 						//*/
; 658  : 						incount++;						

  00451	8b 45 f0	 mov	 eax, DWORD PTR _incount$[ebp]
  00454	83 c0 01	 add	 eax, 1
  00457	89 45 f0	 mov	 DWORD PTR _incount$[ebp], eax

; 659  : 						if( incount > MAX_MONSTERGETITEMCOUNT-1 ) break;

  0045a	81 7d f0 e7 03
	00 00		 cmp	 DWORD PTR _incount$[ebp], 999 ; 000003e7H
  00461	7e 02		 jle	 SHORT $LN13@gObjGiveIt
  00463	eb 1a		 jmp	 SHORT $LN1@gObjGiveIt
$LN13@gObjGiveIt:

; 660  : 					}
; 661  : 				}
; 662  : 			}
; 663  : 
; 664  : 		}
; 665  : 		if( m_iMonsterInvenItemCount[monsterlevel] >= MAX_MONSTERGETITEMCOUNT )

  00465	8b 45 08	 mov	 eax, DWORD PTR _monsterlevel$[ebp]
  00468	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0046b	81 bc 81 5c 02
	00 00 e8 03 00
	00		 cmp	 DWORD PTR [ecx+eax*4+604], 1000 ; 000003e8H
  00476	7c 02		 jl	 SHORT $LN60@gObjGiveIt

; 666  : 			break;

  00478	eb 05		 jmp	 SHORT $LN1@gObjGiveIt
$LN60@gObjGiveIt:

; 667  : 	}

  0047a	e9 3b fc ff ff	 jmp	 $LN2@gObjGiveIt
$LN1@gObjGiveIt:

; 668  : 
; 669  : }

  0047f	5f		 pop	 edi
  00480	5e		 pop	 esi
  00481	5b		 pop	 ebx
  00482	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00485	33 cd		 xor	 ecx, ebp
  00487	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0048c	8b e5		 mov	 esp, ebp
  0048e	5d		 pop	 ebp
  0048f	c2 08 00	 ret	 8
?gObjGiveItemSearch@CMonsterItemMng@@QAEXHH@Z ENDP	; CMonsterItemMng::gObjGiveItemSearch
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
;	COMDAT ?GetItem@CMonsterItemMng@@QAEPAVCItem@@H@Z
_TEXT	SEGMENT
_itemindex$ = -12					; size = 4
_itemcount$ = -8					; size = 4
_this$ = -4						; size = 4
_monsterlevel$ = 8					; size = 4
?GetItem@CMonsterItemMng@@QAEPAVCItem@@H@Z PROC		; CMonsterItemMng::GetItem, COMDAT
; _this$ = ecx

; 185  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 186  : 	if( monsterlevel > MAX_MONSTERLEVEL-1 || monsterlevel < 0 )

  0000c	81 7d 08 95 00
	00 00		 cmp	 DWORD PTR _monsterlevel$[ebp], 149 ; 00000095H
  00013	7f 06		 jg	 SHORT $LN3@GetItem
  00015	83 7d 08 00	 cmp	 DWORD PTR _monsterlevel$[ebp], 0
  00019	7d 04		 jge	 SHORT $LN2@GetItem
$LN3@GetItem:

; 187  : 		return NULL;

  0001b	33 c0		 xor	 eax, eax
  0001d	eb 37		 jmp	 SHORT $LN1@GetItem
$LN2@GetItem:

; 188  : 
; 189  : 	int itemcount = m_iMonsterInvenItemCount[monsterlevel];

  0001f	8b 45 08	 mov	 eax, DWORD PTR _monsterlevel$[ebp]
  00022	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00025	8b 94 81 5c 02
	00 00		 mov	 edx, DWORD PTR [ecx+eax*4+604]
  0002c	89 55 f8	 mov	 DWORD PTR _itemcount$[ebp], edx

; 190  : 
; 191  : 	if( itemcount <= 0 )

  0002f	83 7d f8 00	 cmp	 DWORD PTR _itemcount$[ebp], 0
  00033	7f 04		 jg	 SHORT $LN4@GetItem

; 192  : 		return NULL;

  00035	33 c0		 xor	 eax, eax
  00037	eb 1d		 jmp	 SHORT $LN1@GetItem
$LN4@GetItem:

; 193  : 
; 194  : 	int itemindex = rand()%itemcount;

  00039	e8 00 00 00 00	 call	 _rand
  0003e	99		 cdq
  0003f	f7 7d f8	 idiv	 DWORD PTR _itemcount$[ebp]
  00042	89 55 f4	 mov	 DWORD PTR _itemindex$[ebp], edx

; 195  : 
; 196  : 	return &m_MonsterInvenItems[monsterlevel][itemindex];

  00045	69 45 f4 a8 00
	00 00		 imul	 eax, DWORD PTR _itemindex$[ebp], 168
  0004c	8b 4d 08	 mov	 ecx, DWORD PTR _monsterlevel$[ebp]
  0004f	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00052	03 44 8a 04	 add	 eax, DWORD PTR [edx+ecx*4+4]
$LN1@GetItem:

; 197  : }

  00056	5f		 pop	 edi
  00057	5e		 pop	 esi
  00058	5b		 pop	 ebx
  00059	8b e5		 mov	 esp, ebp
  0005b	5d		 pop	 ebp
  0005c	c2 04 00	 ret	 4
?GetItem@CMonsterItemMng@@QAEPAVCItem@@H@Z ENDP		; CMonsterItemMng::GetItem
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
;	COMDAT ?InsertItem@CMonsterItemMng@@QAEEHHHHHHH@Z
_TEXT	SEGMENT
_item_type$ = -16					; size = 4
_item$ = -12						; size = 4
_itemcount$ = -8					; size = 4
_this$ = -4						; size = 4
_monsterlevel$ = 8					; size = 4
_type$ = 12						; size = 4
_index$ = 16						; size = 4
_itemlevel$ = 20					; size = 4
_op1$ = 24						; size = 4
_op2$ = 28						; size = 4
_op3$ = 32						; size = 4
?InsertItem@CMonsterItemMng@@QAEEHHHHHHH@Z PROC		; CMonsterItemMng::InsertItem, COMDAT
; _this$ = ecx

; 121  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 122  : 
; 123  : #ifdef PRINT_MAGICBOOK_ITEMINSERT_LOG
; 124  : 	if (type == 14 && index == 13) {		// 축석
; 125  : 		g_MONITEM[monsterlevel].iHolyGem1++;
; 126  : 	}
; 127  : 	else if (type == 14 && index == 14) {	// 축석
; 128  : 		g_MONITEM[monsterlevel].iHolyGem2++;
; 129  : 	}
; 130  : 	else if (type == 12 && index == 15) {	// 영석
; 131  : 		g_MONITEM[monsterlevel].iHolyGem3++;
; 132  : 	}
; 133  : 	else if (type == 14 && index == 16) {	// 생석
; 134  : 		g_MONITEM[monsterlevel].iHolyGem4++;
; 135  : 	}
; 136  : 	else if (type == 14 && index == 22) {	// 창석
; 137  : 		g_MONITEM[monsterlevel].iHolyGem5++;
; 138  : 	}
; 139  : 	else if (type == 15) {
; 140  : 		g_MONITEM[monsterlevel].iMagicBook++;
; 141  : 	}
; 142  : 	else {
; 143  : 		g_MONITEM[monsterlevel].iETC++;
; 144  : 	}
; 145  : #endif
; 146  : 
; 147  : 
; 148  : 	if( monsterlevel > MAX_MONSTERLEVEL-1 || monsterlevel < 0 )

  0000c	81 7d 08 95 00
	00 00		 cmp	 DWORD PTR _monsterlevel$[ebp], 149 ; 00000095H
  00013	7f 06		 jg	 SHORT $LN3@InsertItem
  00015	83 7d 08 00	 cmp	 DWORD PTR _monsterlevel$[ebp], 0
  00019	7d 07		 jge	 SHORT $LN2@InsertItem
$LN3@InsertItem:

; 149  : 		return 0xFF;

  0001b	0c ff		 or	 al, 255			; 000000ffH
  0001d	e9 c9 00 00 00	 jmp	 $LN1@InsertItem
$LN2@InsertItem:

; 150  : 
; 151  : 	int itemcount = m_iMonsterInvenItemCount[monsterlevel];

  00022	8b 45 08	 mov	 eax, DWORD PTR _monsterlevel$[ebp]
  00025	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00028	8b 94 81 5c 02
	00 00		 mov	 edx, DWORD PTR [ecx+eax*4+604]
  0002f	89 55 f8	 mov	 DWORD PTR _itemcount$[ebp], edx

; 152  : 
; 153  : 	if( itemcount >= MAX_MONSTERGETITEMCOUNT )

  00032	81 7d f8 e8 03
	00 00		 cmp	 DWORD PTR _itemcount$[ebp], 1000 ; 000003e8H
  00039	7c 07		 jl	 SHORT $LN4@InsertItem

; 154  : 		return 0xFF;

  0003b	0c ff		 or	 al, 255			; 000000ffH
  0003d	e9 a9 00 00 00	 jmp	 $LN1@InsertItem
$LN4@InsertItem:

; 155  : 
; 156  : 	CItem* item = &m_MonsterInvenItems[monsterlevel][itemcount];

  00042	69 45 f8 a8 00
	00 00		 imul	 eax, DWORD PTR _itemcount$[ebp], 168
  00049	8b 4d 08	 mov	 ecx, DWORD PTR _monsterlevel$[ebp]
  0004c	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0004f	03 44 8a 04	 add	 eax, DWORD PTR [edx+ecx*4+4]
  00053	89 45 f4	 mov	 DWORD PTR _item$[ebp], eax

; 157  : 	int item_type;	
; 158  : 	
; 159  : 	item_type    = MAKE_ITEMNUM(type, index);

  00056	8b 45 10	 mov	 eax, DWORD PTR _index$[ebp]
  00059	50		 push	 eax
  0005a	8b 4d 0c	 mov	 ecx, DWORD PTR _type$[ebp]
  0005d	51		 push	 ecx
  0005e	e8 00 00 00 00	 call	 ?MakeItemNumber@@YAHHH@Z ; MakeItemNumber
  00063	83 c4 08	 add	 esp, 8
  00066	89 45 f0	 mov	 DWORD PTR _item_type$[ebp], eax

; 160  : 
; 161  : 	item->m_Level = itemlevel;

  00069	8b 45 f4	 mov	 eax, DWORD PTR _item$[ebp]
  0006c	66 8b 4d 14	 mov	 cx, WORD PTR _itemlevel$[ebp]
  00070	66 89 48 08	 mov	 WORD PTR [eax+8], cx

; 162  : 		
; 163  : 	item->Convert( item_type, op1, op2, op3);

  00074	6a 01		 push	 1
  00076	6a 00		 push	 0
  00078	6a 00		 push	 0
  0007a	0f b6 45 20	 movzx	 eax, BYTE PTR _op3$[ebp]
  0007e	50		 push	 eax
  0007f	0f b6 4d 1c	 movzx	 ecx, BYTE PTR _op2$[ebp]
  00083	51		 push	 ecx
  00084	0f b6 55 18	 movzx	 edx, BYTE PTR _op1$[ebp]
  00088	52		 push	 edx
  00089	8b 45 f0	 mov	 eax, DWORD PTR _item_type$[ebp]
  0008c	50		 push	 eax
  0008d	8b 4d f4	 mov	 ecx, DWORD PTR _item$[ebp]
  00090	e8 00 00 00 00	 call	 ?Convert@CItem@@QAEXHEEEEEE@Z ; CItem::Convert

; 164  : 
; 165  : 	if( type == 13 && index == 10 )

  00095	83 7d 0c 0d	 cmp	 DWORD PTR _type$[ebp], 13 ; 0000000dH
  00099	75 29		 jne	 SHORT $LN5@InsertItem
  0009b	83 7d 10 0a	 cmp	 DWORD PTR _index$[ebp], 10 ; 0000000aH
  0009f	75 23		 jne	 SHORT $LN5@InsertItem

; 166  : 	{
; 167  : 		item->m_Durability = (float)100+(rand()%100);

  000a1	e8 00 00 00 00	 call	 _rand
  000a6	99		 cdq
  000a7	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  000ac	f7 f9		 idiv	 ecx
  000ae	f3 0f 2a c2	 cvtsi2ss xmm0, edx
  000b2	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@42c80000
  000ba	8b 55 f4	 mov	 edx, DWORD PTR _item$[ebp]
  000bd	f3 0f 11 42 24	 movss	 DWORD PTR [edx+36], xmm0

; 168  : 	}

  000c2	eb 0c		 jmp	 SHORT $LN6@InsertItem
$LN5@InsertItem:

; 169  : 	else
; 170  : 	{	// 아닐 경우에는 기본 내구도를 넣어 준다
; 171  : 		item->m_Durability = item->m_BaseDurability;

  000c4	8b 45 f4	 mov	 eax, DWORD PTR _item$[ebp]
  000c7	8b 4d f4	 mov	 ecx, DWORD PTR _item$[ebp]
  000ca	8b 51 2c	 mov	 edx, DWORD PTR [ecx+44]
  000cd	89 50 24	 mov	 DWORD PTR [eax+36], edx
$LN6@InsertItem:

; 172  : 	}
; 173  : 
; 174  : 	itemcount++;

  000d0	8b 45 f8	 mov	 eax, DWORD PTR _itemcount$[ebp]
  000d3	83 c0 01	 add	 eax, 1
  000d6	89 45 f8	 mov	 DWORD PTR _itemcount$[ebp], eax

; 175  : 	m_iMonsterInvenItemCount[monsterlevel] = itemcount;

  000d9	8b 45 08	 mov	 eax, DWORD PTR _monsterlevel$[ebp]
  000dc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000df	8b 55 f8	 mov	 edx, DWORD PTR _itemcount$[ebp]
  000e2	89 94 81 5c 02
	00 00		 mov	 DWORD PTR [ecx+eax*4+604], edx

; 176  : 	
; 177  : 	//LogAdd("insert [%d] %s\t%d\t%s\t%d", itemcount-1, MonsterName, monsterlevel, ItemAttribute[MAKE_ITEMNUM(type, index)].Name, itemlevel);
; 178  : 	
; 179  : 
; 180  : 	//LogAdd("Item List :monsterlevel:%d type:%d index:%d level:%d %s", monsterlevel, type, index, itemlevel, ItemAttribute[MAKE_ITEMNUM(type, index)].Name);
; 181  : 	return 0;

  000e9	32 c0		 xor	 al, al
$LN1@InsertItem:

; 182  : }

  000eb	5f		 pop	 edi
  000ec	5e		 pop	 esi
  000ed	5b		 pop	 ebx
  000ee	8b e5		 mov	 esp, ebp
  000f0	5d		 pop	 ebp
  000f1	c2 1c 00	 ret	 28			; 0000001cH
?InsertItem@CMonsterItemMng@@QAEEHHHHHHH@Z ENDP		; CMonsterItemMng::InsertItem
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
;	COMDAT ?Clear@CMonsterItemMng@@QAEXXZ
_TEXT	SEGMENT
$T1 = -76						; size = 4
_i$2 = -8						; size = 4
_this$ = -4						; size = 4
?Clear@CMonsterItemMng@@QAEXXZ PROC			; CMonsterItemMng::Clear, COMDAT
; _this$ = ecx

; 87   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 88   : 	ZeroMemory(m_iMonsterInvenItemCount, sizeof(m_iMonsterInvenItemCount));

  0000c	68 58 02 00 00	 push	 600			; 00000258H
  00011	6a 00		 push	 0
  00013	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00016	05 5c 02 00 00	 add	 eax, 604		; 0000025cH
  0001b	50		 push	 eax
  0001c	e8 00 00 00 00	 call	 _memset
  00021	83 c4 0c	 add	 esp, 12			; 0000000cH

; 89   : 
; 90   : 	for( int i = 0; i < MAX_MONSTERLEVEL; i++ )

  00024	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$2[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@Clear
$LN2@Clear:
  0002d	8b 45 f8	 mov	 eax, DWORD PTR _i$2[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 f8	 mov	 DWORD PTR _i$2[ebp], eax
$LN4@Clear:
  00036	81 7d f8 96 00
	00 00		 cmp	 DWORD PTR _i$2[ebp], 150 ; 00000096H
  0003d	7d 1b		 jge	 SHORT $LN1@Clear

; 91   : 		delete []m_MonsterInvenItems[i];

  0003f	8b 45 f8	 mov	 eax, DWORD PTR _i$2[ebp]
  00042	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00045	8b 54 81 04	 mov	 edx, DWORD PTR [ecx+eax*4+4]
  00049	89 55 b4	 mov	 DWORD PTR $T1[ebp], edx
  0004c	8b 45 b4	 mov	 eax, DWORD PTR $T1[ebp]
  0004f	50		 push	 eax
  00050	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  00055	83 c4 04	 add	 esp, 4
  00058	eb d3		 jmp	 SHORT $LN2@Clear
$LN1@Clear:

; 92   : }

  0005a	5f		 pop	 edi
  0005b	5e		 pop	 esi
  0005c	5b		 pop	 ebx
  0005d	8b e5		 mov	 esp, ebp
  0005f	5d		 pop	 ebp
  00060	c3		 ret	 0
?Clear@CMonsterItemMng@@QAEXXZ ENDP			; CMonsterItemMng::Clear
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
;	COMDAT ?Init@CMonsterItemMng@@QAEXXZ
_TEXT	SEGMENT
tv86 = -100						; size = 4
$T2 = -96						; size = 4
$T3 = -92						; size = 4
_lpm$ = -24						; size = 4
_i$ = -20						; size = 4
_this$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
?Init@CMonsterItemMng@@QAEXXZ PROC			; CMonsterItemMng::Init, COMDAT
; _this$ = ecx

; 42   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?Init@CMonsterItemMng@@QAEXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	83 ec 58	 sub	 esp, 88			; 00000058H
  00014	53		 push	 ebx
  00015	56		 push	 esi
  00016	57		 push	 edi
  00017	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001c	33 c5		 xor	 eax, ebp
  0001e	50		 push	 eax
  0001f	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00022	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00028	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx

; 43   : 	ZeroMemory(m_iMonsterInvenItemCount, sizeof(m_iMonsterInvenItemCount));

  0002b	68 58 02 00 00	 push	 600			; 00000258H
  00030	6a 00		 push	 0
  00032	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00035	05 5c 02 00 00	 add	 eax, 604		; 0000025cH
  0003a	50		 push	 eax
  0003b	e8 00 00 00 00	 call	 _memset
  00040	83 c4 0c	 add	 esp, 12			; 0000000cH

; 44   : 
; 45   : 	int i;
; 46   : 	for( i = 0; i < MAX_MONSTERLEVEL; i++ )

  00043	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0004a	eb 09		 jmp	 SHORT $LN4@Init
$LN2@Init:
  0004c	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  0004f	83 c0 01	 add	 eax, 1
  00052	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax
$LN4@Init:
  00055	81 7d ec 96 00
	00 00		 cmp	 DWORD PTR _i$[ebp], 150	; 00000096H
  0005c	7d 60		 jge	 SHORT $LN3@Init

; 47   : 		m_MonsterInvenItems[i] = new CItem[MAX_MONSTERGETITEMCOUNT];

  0005e	68 40 90 02 00	 push	 168000			; 00029040H
  00063	e8 00 00 00 00	 call	 ??_U@YAPAXI@Z		; operator new[]
  00068	83 c4 04	 add	 esp, 4
  0006b	89 45 a0	 mov	 DWORD PTR $T2[ebp], eax
  0006e	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  00075	83 7d a0 00	 cmp	 DWORD PTR $T2[ebp], 0
  00079	74 20		 je	 SHORT $LN11@Init
  0007b	68 00 00 00 00	 push	 OFFSET ??0CItem@@QAE@XZ	; CItem::CItem
  00080	68 e8 03 00 00	 push	 1000			; 000003e8H
  00085	68 a8 00 00 00	 push	 168			; 000000a8H
  0008a	8b 45 a0	 mov	 eax, DWORD PTR $T2[ebp]
  0008d	50		 push	 eax
  0008e	e8 00 00 00 00	 call	 ??_H@YGXPAXIIP6EPAX0@Z@Z
  00093	8b 4d a0	 mov	 ecx, DWORD PTR $T2[ebp]
  00096	89 4d 9c	 mov	 DWORD PTR tv86[ebp], ecx
  00099	eb 07		 jmp	 SHORT $LN12@Init
$LN11@Init:
  0009b	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv86[ebp], 0
$LN12@Init:
  000a2	8b 55 9c	 mov	 edx, DWORD PTR tv86[ebp]
  000a5	89 55 a4	 mov	 DWORD PTR $T3[ebp], edx
  000a8	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  000af	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  000b2	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  000b5	8b 55 a4	 mov	 edx, DWORD PTR $T3[ebp]
  000b8	89 54 81 04	 mov	 DWORD PTR [ecx+eax*4+4], edx
  000bc	eb 8e		 jmp	 SHORT $LN2@Init
$LN3@Init:

; 48   : 
; 49   : 	LPMONSTER_ATTRIBUTE		lpm;
; 50   : 
; 51   : 	cexDrop.LoadConfig("..\\data\\DropTable.cfg");

  000be	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@PNKLNBEB@?4?4?2data?2DropTable?4cfg@
  000c3	b9 00 00 00 00	 mov	 ecx, OFFSET ?cexDrop@@3VcDropSystem@@A ; cexDrop
  000c8	e8 00 00 00 00	 call	 ?LoadConfig@cDropSystem@@QAEXPBD@Z ; cDropSystem::LoadConfig

; 52   : 
; 53   : #ifdef ENHANCE_MONSTER_TYPE_TO_WORD_20040618
; 54   : 	for( i = 0; i < MAX_MONSTERATTRIBUTE; i++ )

  000cd	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  000d4	eb 09		 jmp	 SHORT $LN7@Init
$LN5@Init:
  000d6	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  000d9	83 c0 01	 add	 eax, 1
  000dc	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax
$LN7@Init:
  000df	81 7d ec 00 02
	00 00		 cmp	 DWORD PTR _i$[ebp], 512	; 00000200H
  000e6	7d 51		 jge	 SHORT $LN1@Init

; 55   : #else
; 56   : 	for( i = 0; i < 200; i++ )
; 57   : #endif
; 58   : 	{
; 59   : 		lpm = gMAttr.GetAttr(i);

  000e8	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  000eb	50		 push	 eax
  000ec	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  000f1	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr
  000f6	89 45 e8	 mov	 DWORD PTR _lpm$[ebp], eax

; 60   : 		if( lpm )

  000f9	83 7d e8 00	 cmp	 DWORD PTR _lpm$[ebp], 0
  000fd	74 38		 je	 SHORT $LN8@Init

; 61   : 		{
; 62   : 			strcpy(MonsterName, lpm->m_Name);

  000ff	8b 45 e8	 mov	 eax, DWORD PTR _lpm$[ebp]
  00102	83 c0 08	 add	 eax, 8
  00105	50		 push	 eax
  00106	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00109	81 c1 b4 04 00
	00		 add	 ecx, 1204		; 000004b4H
  0010f	51		 push	 ecx
  00110	e8 00 00 00 00	 call	 _strcpy
  00115	83 c4 08	 add	 esp, 8

; 63   : 
; 64   : 			if( lpm->m_Level )

  00118	8b 45 e8	 mov	 eax, DWORD PTR _lpm$[ebp]
  0011b	83 78 1c 00	 cmp	 DWORD PTR [eax+28], 0
  0011f	74 16		 je	 SHORT $LN8@Init

; 65   : 				gObjGiveItemSearch(lpm->m_Level, lpm->m_MaxItemLevel);

  00121	8b 45 e8	 mov	 eax, DWORD PTR _lpm$[ebp]
  00124	8b 48 6c	 mov	 ecx, DWORD PTR [eax+108]
  00127	51		 push	 ecx
  00128	8b 55 e8	 mov	 edx, DWORD PTR _lpm$[ebp]
  0012b	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  0012e	50		 push	 eax
  0012f	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00132	e8 00 00 00 00	 call	 ?gObjGiveItemSearch@CMonsterItemMng@@QAEXHH@Z ; CMonsterItemMng::gObjGiveItemSearch
$LN8@Init:

; 66   : 
; 67   : 			/*
; 68   : 			if( lpm->m_Level >= 43 )
; 69   : 						{
; 70   : 							for( int count = 0; count < m_iMonsterInvenItemCount[lpm->m_Level]; count++ )
; 71   : 							{
; 72   : 								if( m_MonsterInvenItems[lpm->m_Level][count].m_Level >= 4 )
; 73   : 									LogAdd("found [%d] %s, %s, %d", 
; 74   : 											count, MonsterName, 
; 75   : 											ItemAttribute[m_MonsterInvenItems[lpm->m_Level][count].m_Type].Name,
; 76   : 											m_MonsterInvenItems[lpm->m_Level][count].m_Level);
; 77   : 							}
; 78   : 							
; 79   : 						}*/
; 80   : 			
; 81   : 			
; 82   : 		}
; 83   : 	}

  00137	eb 9d		 jmp	 SHORT $LN5@Init
$LN1@Init:

; 84   : }

  00139	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0013c	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00143	59		 pop	 ecx
  00144	5f		 pop	 edi
  00145	5e		 pop	 esi
  00146	5b		 pop	 ebx
  00147	8b e5		 mov	 esp, ebp
  00149	5d		 pop	 ebp
  0014a	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?Init@CMonsterItemMng@@QAEXXZ$0:
  00000	68 40 90 02 00	 push	 168000			; 00029040H
  00005	8b 45 a0	 mov	 eax, DWORD PTR $T2[ebp]
  00008	50		 push	 eax
  00009	e8 00 00 00 00	 call	 ??_V@YAXPAXI@Z		; operator delete[]
  0000e	83 c4 08	 add	 esp, 8
  00011	c3		 ret	 0
  00012	cc		 int	 3
  00013	cc		 int	 3
  00014	cc		 int	 3
  00015	cc		 int	 3
  00016	cc		 int	 3
__ehhandler$?Init@CMonsterItemMng@@QAEXXZ:
  00017	90		 npad	 1
  00018	90		 npad	 1
  00019	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  0001d	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00020	8b 4a 98	 mov	 ecx, DWORD PTR [edx-104]
  00023	33 c8		 xor	 ecx, eax
  00025	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0002a	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?Init@CMonsterItemMng@@QAEXXZ
  0002f	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?Init@CMonsterItemMng@@QAEXXZ ENDP			; CMonsterItemMng::Init
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
;	COMDAT ??1CMonsterItemMng@@UAE@XZ
_TEXT	SEGMENT
_this$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
??1CMonsterItemMng@@UAE@XZ PROC				; CMonsterItemMng::~CMonsterItemMng, COMDAT
; _this$ = ecx

; 36   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??1CMonsterItemMng@@UAE@XZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	83 ec 44	 sub	 esp, 68			; 00000044H
  00014	53		 push	 ebx
  00015	56		 push	 esi
  00016	57		 push	 edi
  00017	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001c	33 c5		 xor	 eax, ebp
  0001e	50		 push	 eax
  0001f	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00022	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00028	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx
  0002b	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CMonsterItemMng@@6B@

; 37   : 
; 38   : 	Clear();

  00034	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00037	e8 00 00 00 00	 call	 ?Clear@CMonsterItemMng@@QAEXXZ ; CMonsterItemMng::Clear

; 39   : }

  0003c	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0003f	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00046	59		 pop	 ecx
  00047	5f		 pop	 edi
  00048	5e		 pop	 esi
  00049	5b		 pop	 ebx
  0004a	8b e5		 mov	 esp, ebp
  0004c	5d		 pop	 ebp
  0004d	c3		 ret	 0
  0004e	cc		 int	 3
  0004f	cc		 int	 3
  00050	cc		 int	 3
  00051	cc		 int	 3
  00052	cc		 int	 3
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$??1CMonsterItemMng@@UAE@XZ:
  00000	90		 npad	 1
  00001	90		 npad	 1
  00002	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00006	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00009	8b 4a ac	 mov	 ecx, DWORD PTR [edx-84]
  0000c	33 c8		 xor	 ecx, eax
  0000e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00013	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??1CMonsterItemMng@@UAE@XZ
  00018	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??1CMonsterItemMng@@UAE@XZ ENDP				; CMonsterItemMng::~CMonsterItemMng
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
;	COMDAT ??0CMonsterItemMng@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CMonsterItemMng@@QAE@XZ PROC				; CMonsterItemMng::CMonsterItemMng, COMDAT
; _this$ = ecx

; 32   : {	

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CMonsterItemMng@@6B@

; 33   : }

  00015	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c3		 ret	 0
??0CMonsterItemMng@@QAE@XZ ENDP				; CMonsterItemMng::CMonsterItemMng
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Mu Online\Mu-GS-Webzen-MC-10093\GameServer\MonsterItemMng.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIIP6EPAX0@Z@Z
_TEXT	SEGMENT
tv66 = -68						; size = 4
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIIP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	89 45 bc	 mov	 DWORD PTR tv66[ebp], eax
  0000f	8b 4d 10	 mov	 ecx, DWORD PTR ___n$[ebp]
  00012	83 e9 01	 sub	 ecx, 1
  00015	89 4d 10	 mov	 DWORD PTR ___n$[ebp], ecx
  00018	83 7d bc 00	 cmp	 DWORD PTR tv66[ebp], 0
  0001c	76 11		 jbe	 SHORT $LN1@vector
  0001e	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00021	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  00024	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  00027	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  0002a	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  0002d	eb da		 jmp	 SHORT $LN2@vector
$LN1@vector:
  0002f	5f		 pop	 edi
  00030	5e		 pop	 esi
  00031	5b		 pop	 ebx
  00032	8b e5		 mov	 esp, ebp
  00034	5d		 pop	 ebp
  00035	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIIP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
END
